!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?exports.Sushi=e(require("moment")):t.Sushi=e(t.moment)}(this,function(__WEBPACK_EXTERNAL_MODULE__2__){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var u=e[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var u in t)n.d(r,u,function(e){return t[e]}.bind(null,u));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(module,__webpack_exports__,__webpack_require__){"use strict";var underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),underscore__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),moment__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);const ARRAY_REFERENCE_REGEX=/(.*)\[(@|\*|\d+)]/g,processPath=t=>{if(!t)return[];let e,n=t.split(/\.|::/),r=[],u=(t,e,n)=>(r.push(e),"@"!==n&&"*"!==n&&(n=Number(n)),r.push(n),"");for(;n.length>0;)(e=(e=n.shift()).replace(ARRAY_REFERENCE_REGEX,u))&&r.push(e);return r},assignTo=(t,e,n,r)=>{let u,a=processPath(e);for(void 0!==n&&a.push(n);a.length;)u=a.shift(),a.length>0?(t[u]||("number"==typeof a[0]?t[u]=[]:t[u]={}),t=t[u]):t[u]=r},compact=(t,e)=>{let n,r=processPath(e);for(;r.length;)n=r.shift(),r.length>0?(t[n]||("number"==typeof r[0]?t[n]=[]:t[n]={}),t=t[n]):t[n]=underscore__WEBPACK_IMPORTED_MODULE_0___default.a.compact(t[n])},getDateTimeFormat=t=>{if(!t||"string"!=typeof t)return"";switch(t.length){case 10:return"YYYY-MM-DD";case 19:return"YYYY-MM-DD HH:mm:ss";case 8:return"HH:mm:ss";default:return""}},validateOperation=(t,e,n)=>{switch(n){case"years":case"months":case"weeks":case"days":if("HH:mm:ss"===t||"HH:mm:ss"===e)return!1;break;case"hours":case"minutes":case"seconds":if(("HH:mm:ss"===t||"HH:mm:ss"===e)&&t!==e)return!1}return!0},evalWithSafeEnvironment=function(){const __defaultSpec="seconds",__availableSpecs={Y:"years",M:"months",W:"weeks",D:"days",h:"hours",m:"minutes",s:"seconds",years:"years",months:"months",weeks:"weeks",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"},__processStarOperator=(array,path)=>{let result=[];if(array&&underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(array)&&array.length){let value,pushNestedElement=nestedElement=>{value.push(eval("nestedElement"+path))};for(let i=0,len=array.length;i<len;i++){if(underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(array[i]))value=[],array[i].forEach(pushNestedElement);else{value=null;try{value=eval("array[i]"+path)}catch(t){console.warn(t)}}result.push(value)}}return result},dateDiff=(t,e,n)=>{let r=getDateTimeFormat(t),u=getDateTimeFormat(e);return n=__availableSpecs[n]||__defaultSpec,validateOperation(r,u,n)?(t=moment__WEBPACK_IMPORTED_MODULE_1___default()(t,r),e=moment__WEBPACK_IMPORTED_MODULE_1___default()(e,u),t.diff(e,n)):(console.warn("Invalid inputs at dateDiff."),null)},sum=t=>{let e=0;if(t&&underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(t)&&t.length)for(let n=0,r=t.length;n<r;n++)t[n]&&(e+=t[n]);return e},extract=(t,e,n)=>{e=e||",",n=n||0;let r=(t="string"==typeof t?t:t||"").split(e)[n];return isNaN(r)?r:Number(r)},flatten=underscore__WEBPACK_IMPORTED_MODULE_0___default.a.flatten,groupConcat=(t,e=", ")=>t.join(e);function concat(){return Array.prototype.slice.call(arguments).join("")}const count=t=>t.length,avg=t=>{let e=sum(t);return t&&underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(t)&&t.length>0&&(e/=t.length),e},formatDate=(t,e)=>moment__WEBPACK_IMPORTED_MODULE_1___default()(t).format(e);return function(formula,data,metaData){return eval(formula)}}.call();__webpack_exports__.a={processPath:processPath,assignTo:assignTo,compact:compact,patterns:{variable:"{{([^}]+)}}",parsedExpression:"\\[\\*(\\d*)\\*\\]",invalidVariable:"\\[(?!(?:@|\\*|\\d+)\\]|[\\.$])|^[^\\[]*\\]|\\][^\\[]*\\]|[\\{\\}]|\\][]|\\][^\\.\\[]"},dataVarName:"data",metaDataVarName:"metaData",evalWithSafeEnvironment:evalWithSafeEnvironment}},function(t,e,n){(function(t,n){var r;!function(){var u="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},a=u._,i=Array.prototype,o=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,s=i.push,l=i.slice,f=o.toString,p=o.hasOwnProperty,h=Array.isArray,d=Object.keys,v=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};e.nodeType?u._=y:(!n.nodeType&&n.exports&&(e=n.exports=y),e._=y),y.VERSION="1.9.1";var g,_=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,u){return t.call(e,n,r,u)};case 4:return function(n,r,u,a){return t.call(e,n,r,u,a)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return y.iteratee!==g?y.iteratee(t,e):null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)&&!y.isArray(t)?y.matcher(t):y.property(t)};y.iteratee=g=function(t,e){return b(t,e,1/0)};var O=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),u=0;u<n;u++)r[u]=arguments[u+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var a=Array(e+1);for(u=0;u<e;u++)a[u]=arguments[u];return a[e]=r,t.apply(this,a)}},x=function(t){if(!y.isObject(t))return{};if(v)return v(t);m.prototype=t;var e=new m;return m.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},w=function(t,e){return null!=t&&p.call(t,e)},A=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},j=Math.pow(2,53)-1,k=E("length"),M=function(t){var e=k(t);return"number"==typeof e&&e>=0&&e<=j};y.each=y.forEach=function(t,e,n){var r,u;if(e=_(e,n),M(t))for(r=0,u=t.length;r<u;r++)e(t[r],r,t);else{var a=y.keys(t);for(r=0,u=a.length;r<u;r++)e(t[a[r]],a[r],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var r=!M(t)&&y.keys(t),u=(r||t).length,a=Array(u),i=0;i<u;i++){var o=r?r[i]:i;a[i]=e(t[o],o,t)}return a};var P=function(t){var e=function(e,n,r,u){var a=!M(e)&&y.keys(e),i=(a||e).length,o=t>0?0:i-1;for(u||(r=e[a?a[o]:o],o+=t);o>=0&&o<i;o+=t){var c=a?a[o]:o;r=n(r,e[c],c,e)}return r};return function(t,n,r,u){var a=arguments.length>=3;return e(t,_(n,u,4),r,a)}};y.reduce=y.foldl=y.inject=P(1),y.reduceRight=y.foldr=P(-1),y.find=y.detect=function(t,e,n){var r=(M(t)?y.findIndex:y.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},y.filter=y.select=function(t,e,n){var r=[];return e=b(e,n),y.each(t,function(t,n,u){e(t,n,u)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var r=!M(t)&&y.keys(t),u=(r||t).length,a=0;a<u;a++){var i=r?r[a]:a;if(!e(t[i],i,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var r=!M(t)&&y.keys(t),u=(r||t).length,a=0;a<u;a++){var i=r?r[a]:a;if(e(t[i],i,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return M(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=O(function(t,e,n){var r,u;return y.isFunction(e)?u=e:y.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),y.map(t,function(t){var a=u;if(!a){if(r&&r.length&&(t=A(t,r)),null==t)return;a=t[e]}return null==a?a:a.apply(t,n)})}),y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,u,a=-1/0,i=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var o=0,c=(t=M(t)?t:y.values(t)).length;o<c;o++)null!=(r=t[o])&&r>a&&(a=r);else e=b(e,n),y.each(t,function(t,n,r){((u=e(t,n,r))>i||u===-1/0&&a===-1/0)&&(a=t,i=u)});return a},y.min=function(t,e,n){var r,u,a=1/0,i=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var o=0,c=(t=M(t)?t:y.values(t)).length;o<c;o++)null!=(r=t[o])&&r<a&&(a=r);else e=b(e,n),y.each(t,function(t,n,r){((u=e(t,n,r))<i||u===1/0&&a===1/0)&&(a=t,i=u)});return a},y.shuffle=function(t){return y.sample(t,1/0)},y.sample=function(t,e,n){if(null==e||n)return M(t)||(t=y.values(t)),t[y.random(t.length-1)];var r=M(t)?y.clone(t):y.values(t),u=k(r);e=Math.max(Math.min(e,u),0);for(var a=u-1,i=0;i<e;i++){var o=y.random(i,a),c=r[i];r[i]=r[o],r[o]=c}return r.slice(0,e)},y.sortBy=function(t,e,n){var r=0;return e=b(e,n),y.pluck(y.map(t,function(t,n,u){return{value:t,index:r++,criteria:e(t,n,u)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var S=function(t,e){return function(n,r,u){var a=e?[[],[]]:{};return r=b(r,u),y.each(n,function(e,u){var i=r(e,u,n);t(a,e,i)}),a}};y.groupBy=S(function(t,e,n){w(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=S(function(t,e,n){t[n]=e}),y.countBy=S(function(t,e,n){w(t,n)?t[n]++:t[n]=1});var D=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(t){return t?y.isArray(t)?l.call(t):y.isString(t)?t.match(D):M(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:M(t)?t.length:y.keys(t).length},y.partition=S(function(t,e,n){t[n?0:1].push(e)},!0),y.first=y.head=y.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,Boolean)};var R=function(t,e,n,r){for(var u=(r=r||[]).length,a=0,i=k(t);a<i;a++){var o=t[a];if(M(o)&&(y.isArray(o)||y.isArguments(o)))if(e)for(var c=0,s=o.length;c<s;)r[u++]=o[c++];else R(o,e,n,r),u=r.length;else n||(r[u++]=o)}return r};y.flatten=function(t,e){return R(t,e,!1)},y.without=O(function(t,e){return y.difference(t,e)}),y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=b(n,r));for(var u=[],a=[],i=0,o=k(t);i<o;i++){var c=t[i],s=n?n(c,i,t):c;e&&!n?(i&&a===s||u.push(c),a=s):n?y.contains(a,s)||(a.push(s),u.push(c)):y.contains(u,c)||u.push(c)}return u},y.union=O(function(t){return y.uniq(R(t,!0,!0))}),y.intersection=function(t){for(var e=[],n=arguments.length,r=0,u=k(t);r<u;r++){var a=t[r];if(!y.contains(e,a)){var i;for(i=1;i<n&&y.contains(arguments[i],a);i++);i===n&&e.push(a)}}return e},y.difference=O(function(t,e){return e=R(e,!0,!0),y.filter(t,function(t){return!y.contains(e,t)})}),y.unzip=function(t){for(var e=t&&y.max(t,k).length||0,n=Array(e),r=0;r<e;r++)n[r]=y.pluck(t,r);return n},y.zip=O(y.unzip),y.object=function(t,e){for(var n={},r=0,u=k(t);r<u;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var T=function(t){return function(e,n,r){n=b(n,r);for(var u=k(e),a=t>0?0:u-1;a>=0&&a<u;a+=t)if(n(e[a],a,e))return a;return-1}};y.findIndex=T(1),y.findLastIndex=T(-1),y.sortedIndex=function(t,e,n,r){for(var u=(n=b(n,r,1))(e),a=0,i=k(t);a<i;){var o=Math.floor((a+i)/2);n(t[o])<u?a=o+1:i=o}return a};var N=function(t,e,n){return function(r,u,a){var i=0,o=k(r);if("number"==typeof a)t>0?i=a>=0?a:Math.max(a+o,i):o=a>=0?Math.min(a+1,o):a+o+1;else if(n&&a&&o)return r[a=n(r,u)]===u?a:-1;if(u!=u)return(a=e(l.call(r,i,o),y.isNaN))>=0?a+i:-1;for(a=t>0?i:o-1;a>=0&&a<o;a+=t)if(r[a]===u)return a;return-1}};y.indexOf=N(1,y.findIndex,y.sortedIndex),y.lastIndexOf=N(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),u=Array(r),a=0;a<r;a++,t+=n)u[a]=t;return u},y.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,u=t.length;r<u;)n.push(l.call(t,r,r+=e));return n};var I=function(t,e,n,r,u){if(!(r instanceof e))return t.apply(n,u);var a=x(t.prototype),i=t.apply(a,u);return y.isObject(i)?i:a};y.bind=O(function(t,e,n){if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var r=O(function(u){return I(t,r,e,this,n.concat(u))});return r}),y.partial=O(function(t,e){var n=y.partial.placeholder,r=function(){for(var u=0,a=e.length,i=Array(a),o=0;o<a;o++)i[o]=e[o]===n?arguments[u++]:e[o];for(;u<arguments.length;)i.push(arguments[u++]);return I(t,r,this,this,i)};return r}),y.partial.placeholder=y,y.bindAll=O(function(t,e){var n=(e=R(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=y.bind(t[r],t)}}),y.memoize=function(t,e){var n=function(r){var u=n.cache,a=""+(e?e.apply(this,arguments):r);return w(u,a)||(u[a]=t.apply(this,arguments)),u[a]};return n.cache={},n},y.delay=O(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,u,a,i,o=0;n||(n={});var c=function(){o=!1===n.leading?0:y.now(),r=null,i=t.apply(u,a),r||(u=a=null)},s=function(){var s=y.now();o||!1!==n.leading||(o=s);var l=e-(s-o);return u=this,a=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),o=s,i=t.apply(u,a),r||(u=a=null)):r||!1===n.trailing||(r=setTimeout(c,l)),i};return s.cancel=function(){clearTimeout(r),o=0,r=u=a=null},s},y.debounce=function(t,e,n){var r,u,a=function(e,n){r=null,n&&(u=t.apply(e,n))},i=O(function(i){if(r&&clearTimeout(r),n){var o=!r;r=setTimeout(a,e),o&&(u=t.apply(this,i))}else r=y.delay(a,e,this,i);return u});return i.cancel=function(){clearTimeout(r),r=null},i},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2),y.restArguments=O;var W=!{toString:null}.propertyIsEnumerable("toString"),K=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=function(t,e){var n=K.length,r=t.constructor,u=y.isFunction(r)&&r.prototype||o,a="constructor";for(w(t,a)&&!y.contains(e,a)&&e.push(a);n--;)(a=K[n])in t&&t[a]!==u[a]&&!y.contains(e,a)&&e.push(a)};y.keys=function(t){if(!y.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)w(t,n)&&e.push(n);return W&&C(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return W&&C(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),u=0;u<n;u++)r[u]=t[e[u]];return r},y.mapObject=function(t,e,n){e=b(e,n);for(var r=y.keys(t),u=r.length,a={},i=0;i<u;i++){var o=r[i];a[o]=e(t[o],o,t)}return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),u=0;u<n;u++)r[u]=[e[u],t[e[u]]];return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,u=n.length;r<u;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()};var B=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var u=1;u<r;u++)for(var a=arguments[u],i=t(a),o=i.length,c=0;c<o;c++){var s=i[c];e&&void 0!==n[s]||(n[s]=a[s])}return n}};y.extend=B(y.allKeys),y.extendOwn=y.assign=B(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var r,u=y.keys(t),a=0,i=u.length;a<i;a++)if(e(t[r=u[a]],r,t))return r};var F,V,L=function(t,e,n){return e in n};y.pick=O(function(t,e){var n={},r=e[0];if(null==t)return n;y.isFunction(r)?(e.length>1&&(r=_(r,e[1])),e=y.allKeys(t)):(r=L,e=R(e,!1,!1),t=Object(t));for(var u=0,a=e.length;u<a;u++){var i=e[u],o=t[i];r(o,i,t)&&(n[i]=o)}return n}),y.omit=O(function(t,e){var n,r=e[0];return y.isFunction(r)?(r=y.negate(r),e.length>1&&(n=e[1])):(e=y.map(R(e,!1,!1),String),r=function(t,n){return!y.contains(e,n)}),y.pick(t,r,n)}),y.defaults=B(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var u=Object(t),a=0;a<r;a++){var i=n[a];if(e[i]!==u[i]||!(i in u))return!1}return!0},F=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var u=typeof t;return("function"===u||"object"===u||"object"==typeof e)&&V(t,e,n,r)},V=function(t,e,n,r){t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var u=f.call(t);if(u!==f.call(e))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return c.valueOf.call(t)===c.valueOf.call(e)}var a="[object Array]"===u;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var i=t.constructor,o=e.constructor;if(i!==o&&!(y.isFunction(i)&&i instanceof i&&y.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var s=(n=n||[]).length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),a){if((s=t.length)!==e.length)return!1;for(;s--;)if(!F(t[s],e[s],n,r))return!1}else{var l,p=y.keys(t);if(s=p.length,y.keys(e).length!==s)return!1;for(;s--;)if(l=p[s],!w(e,l)||!F(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0},y.isEqual=function(t,e){return F(t,e)},y.isEmpty=function(t){return null==t||(M(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=h||function(t){return"[object Array]"===f.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){y["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return w(t,"callee")});var q=u.document&&u.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof q&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return!y.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&isNaN(t)},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){if(!y.isArray(e))return w(t,e);for(var n=e.length,r=0;r<n;r++){var u=e[r];if(null==t||!p.call(t,u))return!1;t=t[u]}return!!n},y.noConflict=function(){return u._=a,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=function(t){return y.isArray(t)?function(e){return A(e,t)}:E(t)},y.propertyOf=function(t){return null==t?function(){}:function(e){return y.isArray(e)?A(t,e):t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=_(e,n,1);for(var u=0;u<t;u++)r[u]=e(u);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=y.invert(U),Y=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),u=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(u,e):t}};y.escape=Y(U),y.unescape=Y(H),y.result=function(t,e,n){y.isArray(e)||(e=[e]);var r=e.length;if(!r)return y.isFunction(n)?n.call(t):n;for(var u=0;u<r;u++){var a=null==t?void 0:t[e[u]];void 0===a&&(a=n,u=r),t=y.isFunction(a)?a.call(t):a}return t};var z=0;y.uniqueId=function(t){var e=++z+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,$=function(t){return"\\"+X[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r,u=RegExp([(e.escape||J).source,(e.interpolate||J).source,(e.evaluate||J).source].join("|")+"|$","g"),a=0,i="__p+='";t.replace(u,function(e,n,r,u,o){return i+=t.slice(a,o).replace(G,$),a=o+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":u&&(i+="';\n"+u+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{r=new Function(e.variable||"obj","_",i)}catch(t){throw t.source=i,t}var o=function(t){return r.call(this,t,y)},c=e.variable||"obj";return o.source="function("+c+"){\n"+i+"}",o},y.chain=function(t){var e=y(t);return e._chain=!0,e};var Q=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){return y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),Q(this,n.apply(y,t))}}),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Q(this,n)}}),y.each(["concat","join","slice"],function(t){var e=i[t];y.prototype[t]=function(){return Q(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return y}.apply(e,[]))||(n.exports=r)}()}).call(this,n(3),n(4)(t))},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e);var r=function(t){return Array.isArray(t)},u=function(t){return"[object Object]"===Object.prototype.toString.call(t)},a={isArray:r,isObject:u,isObjectish:function(t){return t===Object(t)},omit:function(t,e){if(!u(t))return t;e=r(e)?e:[e];var n={};for(var a in t)t.hasOwnProperty(a)&&-1===e.indexOf(a)&&(n[a]=t[a]);return n}},i=n(1),o=n.n(i),c=n(0);const s=new RegExp(c.a.patterns.invalidVariable);class l{constructor(t){this._path=c.a.processPath(t),this._hasStar=this._path.indexOf("*")>-1,this._hasAt=this._path.indexOf("@")>-1,this._hasContext=this._hasAt,t.indexOf("::")>-1?this._environment=c.a.metaDataVarName:this._environment=c.a.dataVarName,""===t?this._parsedVariable="null":this._hasContext||(this._parsedVariable=l._parse(this._path,this._environment))}parseVariable(t){return this._parsedVariable||this._parseWithContext(t)}_parseWithContext(t){let e=0,n=t.length,r=this._path.length,u=this._path.slice();for(;e<n&&e<r;e++)if("@"===u[e]&&o.a.isNumber(t[e]))u[e]=Number(t[e]);else if(u[e]!==t[e]||"*"===u[e])break;for(;e<r;e++)if("@"===u[e])throw new Error("Context could not fully resolve");return l._parse(u,this._environment)}hasStar(){return this._hasStar}hasAt(){return this._hasAt}static isValid(t){return!s.test(t)}static _parse(t,e){let n,r=!1,u=e;for(let e=0,a=t.length;e<a;e++)"*"===(n=t[e])?(r?u+='")':r=!0,u="__processStarOperator("+u+',"'):u+="['"+n+"']";return r&&(u+='")'),u}}const f=new RegExp(c.a.patterns.variable,"g");class p{constructor(t,e){this._variables=[];for(var n=0,r=t.length;n<r;n++){var u=t[n];e=e.replace(new RegExp(u.pattern,"g"),u.replacement)}const a={};this._parsedExpression=e.replace(f,(t,e)=>l.isValid(e)?(a[e]||(a[e]=this._variables.length,this._variables.push(new l(e))),"[*"+a[e]+"*]"):"{{"+e+"}}")}eval(){throw new Error("Eval is not implemented")}getDependencies(){throw new Error("GetDependencies is not implemented")}}var h=[{pattern:"^=",replacement:""},{pattern:"'",replacement:"\\'"}];class d extends p{constructor(t){super(h,t)}eval(t,e,n){let r=null;try{let u=c.a.processPath(n),a=this._variables.map(t=>t.parseVariable(u)),i=this._parsedExpression.replace(/\[\*(\d*)\*\]/g,(t,e)=>a[parseInt(e)]);r=c.a.evalWithSafeEnvironment(i,t,e)}catch(t){console.warn(t)}return r}getDependencies(){return this._variables.map(t=>t.split("::").shift())}static isFormula(t){return"string"==typeof t&&0===t.indexOf("=")}}const v=[{pattern:"'",replacement:"\\'"}],m=new RegExp(c.a.patterns.variable),y=new RegExp(c.a.patterns.parsedExpression,"g");class g extends p{constructor(t=""){super(v,t)}eval(t,e,n){let r="";try{let u=c.a.processPath(n),a=this._variables.map(n=>n.hasStar()?"":c.a.evalWithSafeEnvironment(n.parseVariable(u),t,e));r=this._parsedExpression.replace(y,(t,e)=>a[parseInt(e)])}catch(t){console.warn(t)}return r}getDependencies(){return this._variables.map(t=>t.split("::").shift())}static isConcatenatedText(t){return"string"==typeof t&&m.test(t)}}class _ extends p{constructor(t){super([],""),this.value=t}eval(){return this.value}}class b{constructor(t=""){d.isFormula(t)?this.compiledExpression=new d(t):g.isConcatenatedText(t)?this.compiledExpression=new g(t):this.compiledExpression=new _(t)}eval(t={},e={},n=""){return this.compiledExpression.eval(t,e,n)}static isFormulaValue(t){return d.isFormula(t)||g.isConcatenatedText(t)}}var O=function(t){return a.isArray(t)?t:[t]},x=new RegExp("(.+)\\[([0-9]*)\\]"),E=function(t,e,n){if(""===e)return t;for(var r,u,a=e.split(".");a.length&&t;)if(r=a.shift(),null!==(u=x.exec(r))&&3===u.length){var i={arrName:u[1],arrIndex:u[2]};t=void 0!==t[i.arrName]?t[i.arrName][i.arrIndex]:void 0}else t=isNaN(r)?t[r]:t[void 0===t[r]?Number(r):r];return void 0===t?n:t},w=function(t,e){return!t||(t=a.isArray(t)?t:[t]).reduce(function(t,n){var r=!1,u=n.indexOf("*");if(-1!==u){var a=n.lastIndexOf("*");-1!==a&&u!==a?r=e.includes(n.substring(u+1,a)):0===u?r=e.endsWith(n.substr(1)):u===n.length-1&&(r=e.startsWith(n.slice(0,-1)))}else r=e===n;return t||r},!1)},A=function(t,e){return Object.keys(t).filter(function(t){return w(e,t)})},j=function(t,e){e=e||"addition";var n={addition:{method:function(t,e){return t+e},neutral:0},subtraction:{method:function(t,e){return t-e},neutral:0},division:{method:function(t,e){return t/e},neutral:1},multiplication:{method:function(t,e){return t*e},neutral:1}};return t.reduce(function(t,r){return r=null==r?0:r,n[e].method(parseFloat(r)||n[e].neutral,t)},n[e].neutral)},k={},M=function(t,e){return k[t]||(k[t]=new b(t)),k[t].eval(e)},P={get:E,set:function(t,e,n){for(var r,u=t,a=-1,i=(e=e.split(".")).length,o=i-1;null!==u&&++a<i;)u[r=e[a]]=a===o?n:void 0!==u[r]?u[r]:{},u=u[r];return t},remove:function(t,e){for(var n,r=t,u=-1,a=(e=e.split(".")).length,i=a-1;null!==r&&++u<a;)if(n=e[u],u===i)Array.isArray(r)?r.splice(n,1):delete r[n];else{if(void 0===r[n])break;r=r[n]}return t},extractMap:function(t,e,n){return O(e).map(function(e){return E(t,e,n)})},iterateMap:function(t,e,n,r){O(e).forEach(function(e){r(e,E(t,e,n))})},extractKeys:A,extractKeyValues:function(t,e){return A(t,e).map(function(e){return t[e]})},getKeys:function(t,e){return Object.keys(t).filter(function(t){return w(e,t)})},iterateKeys:function(t,e,n){Object.keys(t).forEach(function(t){w(e,t)&&n(t)})},evalValues:function(t,e){return t.reduce(function(t,n){return t||function(t,e){return!a.isArray(e)&&!a.isObject(e)&&("!"===t.charAt(0)?!e.includes(t.substr(1)):e.includes(t))}(n,e)},!1)},compare:function(t,e,n){var r={eq:function(t,e){return t===e},ne:function(t,e){return t!==e},lt:function(t,e){return t<e},gt:function(t,e){return t>e},le:function(t,e){return t<=e},ge:function(t,e){return t>=e}};return r[n=n||"eq"]?r[n](t,e):null},calculate:j,average:function(t){return 0===(t=t.filter(function(t){return null!=t})).length?0:j(t,"addition")/t.length},compareString:function(t,e,n){return{eq:function(t,e){return t===e},ne:function(t,e){return t!==e},includes:function(t,e){return t.includes(e)},startsWith:function(t,e){return t.startsWith(e)},endsWith:function(t,e){return t.endsWith(e)}}[n=n||"eq"](t,e)},evalFV:M,evalTemplate:function t(e,n){if(!e)return{};if(e!==Object(e))return M(e,n);var r,u,a=Array.isArray(e)?e.slice():Object.assign({},e);for(var i in a)u=M(i,n),(r=a[i])===Object(r)?a[u]=t(r,n):a[u]=M(r,n),u!==i&&delete a[i];return a},deepNavigate:function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=u.slice();if(Array.isArray(n))for(var o=0;o<n.length;o++)i.push(o),e=n[o],a.isObjectish(e)?t(e,r,i):r(n,e,i);else for(var c in n)i.push(c),e=n[c],a.isObjectish(e)?t(e,r,i):r(n,e,i)}};function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R=function(t,e){for(var n,r,u,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t.length,o=0;o<i;o++){for(u in n={},r=t[o])n[r[u]]=P.get(e,u);a.push(n)}return a},T=function(t,e){if(!e.pivot)return console.warn("Overturn operation needs a 'pivot' parameter."),t;var n=e.pivot,r=e.dest||"parent",u=e.child||null,i=!!e.includeEmpty;return t.reduce(function(t,e){return function(t,e,n,r,u){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=a.omit(e,n),c=e[n];return a.isArray(c)?(i&&0===c.length&&c.push({}),t.concat(c.map(function(t){if(a.isObject(t))t[r]=o;else if(u){var e={};e[r]=o,e[u]=t,t=e}return t}))):a.isObject(c)||i&&(c={})?(c[r]=o,t.push(c),t):t}(t,e,n,r,u,i)},[])},N=function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.filter(function(t){return e.reduce(function(e,r){return e&&n("filter",r.name,t,r)},!0)})):t},I=function(t,e){return t.map(function(t){var n={};return e.keys&&P.iterateKeys(t,e.keys,function(r){e.values&&P.evalValues(e.values,t[r])?n[r]=t[r]:e.values||(n[r]=t[r])}),e.paths&&P.iterateMap(t,e.paths,null,function(t,e){n=P.set(n,t,e)}),n})},W=function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.map(function(t){return e.forEach(function(e){P.iterateKeys(t,e.keys,function(r){t[r]=n("mapper",e.name,t[r],e)})},{}),t})):t},K=function(t,e){return t.reduce(function(t,n){return t.concat(Object.keys(n).reduce(function(t,r){var u={};if(e.id){if(e.id.includes(r))return t;u.id=P.get(n,e.id)}return u[e.key?e.key:"key"]=r,u[e.value?e.value:"value"]=n[r],t.push(u),t},[]))},[])},C=function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.map(function(t){return e.reduce(function(e,r){return e[r.dest]=n("selector",r.name,t,r),e},{})})):t},B=function(t,e){var n=[],r={};if(!e||!e.path)return console.warn("A 'path' parameter must be provided for the uniq operation."),t;for(var u=t.length-1;u>=0;u--)1!==r[P.get(t[u],e.path)]&&(r[P.get(t[u],e.path)]=1,n.push(t[u]));return n},F=function(t,e,n){return e?(Array.isArray(e)||(e=[e]),e.reduce(function(e,r){var u=r.start||0;if(r.group&&r.path){var a,i=e,o=t.reduce(function(t,e){return t[a=P.get(e,r.group)]=t[a]||0,t[a]++,t},{});r.dest&&(e[r.dest]={},i=e[r.dest]);var c={};t.forEach(function(t){a=P.get(t,r.group),c[a]=c[a]||0,i[a]=n("reducer",r.name,r,i[a]||u,P.get(t,r.path),c[a],o[a]),c[a]++})}else r.path&&r.dest?e[r.dest]=t.reduce(function(e,u,a){return n("reducer",r.name,r,e,P.get(u,r.path),a,t.length)},u):r.keys&&t.forEach(function(a,i){P.iterateKeys(a,r.keys,function(o){e[o]=n("reducer",r.name,r,e[o]||u,a[o],i,t.length)})});return e},{})):t},V=function(t,e){for(var n,r,u,a,i,o,c={sum:function(t,n){return t+P.get(n,e.aggregationPath,0)},count:function(t,e){return t+1}},s=[],l={},f=[],p=e.rowSourcePath,h=e.rowTargetPath||p,d=e.columnPath,v=!!e.includeRowTotal,m=!!e.includeColumnTotal,y=e.totalRowName||"Total",g=e.totalColumnName||"Total",_=c[e.aggregationOp||"count"],b=0,O=t.length;b<O;b++)if(r=t[b],a=P.get(r,p,void 0)){if(l[a])u=l[a];else{u={};for(var x=f.length-1;x>=0;x--)u[f[x]]=0;l[a]=u,s.push(u),P.set(u,h,a)}if(n=P.get(r,d,void 0)){if(-1===f.indexOf(n)){f.push(n);for(var E=s.length-1;E>=0;E--)s[E][n]=0}i=u[n]||0,u[n]=_(i,r)}}(v||m)&&function(){var t,e={};if(m){for(b=f.length-1;b>=0;b--)e[f[b]]=0;P.set(e,h,g)}for(b=0,o=s.length;b<o;b++){if(t=s[b],m)for(x=f.length-1;x>=0;x--)n=f[x],e[n]+=t[n];v&&(t[y]=f.reduce(function(e,n){return e+t[n]},0))}m&&(v&&(e[y]=f.reduce(function(t,n){return t+e[n]},0)),s.push(e))}();return s},L=function(t,e){if(!e||!e.path)return console.warn("A 'path' parameter must be provided for the classify operation."),t;for(var n,r,u=e.path,a=e.dest||"dest",i=e.id||u,o=e.default,c={},s=t.length,l=0;l<s;l++)r=t[l],n=P.get(r,u),c[n=void 0!==n?n:o]=c[n]||{},c[n][a]=c[n][a]||[],c[n][a].push(r);return Object.keys(c).map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach(function(e){D(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}(D({},i,t),c[t])})},q=function(t,e){if(!e||!e.parts)return console.warn("A 'parts' parameter must be provided for the split operation."),t;for(var n=[],r=e.parts,u=t.length,a=0;a<u;a++)n=R(r,t[a],n);return n},U=function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.map(function(t,r){return e.forEach(function(e){t[e.dest]=n("attacher",e.name,t,e,r)}),t})):t},H=function(t,e){var n,r,u,a,i,o,c=function(){return!1},s=c,l=c,f=c,p=c;return e.keyRegex&&(n=new RegExp(e.keyRegex,"i"),s=function(t){return t.match&&t.match(n)}),e.valueRegex&&(r=new RegExp(e.valueRegex,"i"),l=function(t){return t.match&&t.match(r)}),void 0!==e.keyMatch&&(u=e.keyMatch,a=!0,f=function(t){return t===u}),void 0!==e.valueMatch&&(i=e.valueMatch,o=!0,p=function(t){return t?t===i:t==i}),t.map(function(t){var u;(e.paths&&e.paths.forEach(function(e){P.remove(t,e)}),n||r||a||o)&&P.deepNavigate(t,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];u=n.slice(-1)[0],(s(u)||l(e)||f(u)||p(e))&&(Array.isArray(t)?t.splice(u,1):delete t[u])});return t})};function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var z={},J=function(t,e,n){return a.isArray(e)?e.reduce(function(e,r){return e||n(t,r)},!1):n(t,e)},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.path)return P.get(t,e.path);if(e.expr){var r=e.expr;z[r]||(z[r]=new b(r));var u=z[r];return u.eval(t)}return n},G={string:String,number:Number,boolean:Boolean},$={},Q=function(t,e,n,r){return t.match?t.match===n?r():e:r()};function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var tt={filters:{match:function(t,e){return J(X(t,e),e.match,function(t,e){return t===e})},mismatch:function(t,e){return J(X(t,e),e.match,function(t,e){return t!==e})},matchType:function(t,e){return J(X(t,e),e.match,function(t,e){return Y(t)===e})},mismatchType:function(t,e){return J(X(t,e),e.match,function(t,e){return Y(t)!==e})},includes:function(t,e){return J(X(t,e),e.match,function(t,e){return t.includes(e)})},excludes:function(t,e){return J(X(t,e),e.match,function(t,e){return!t.includes(e)})},compare:function(t,e){return P.compare(X(t,e),e.match,e.operator)},start:function(t,e){return J(X(t,e,""),e.match,function(t,e){return 0===t.indexOf(e)})},end:function(t,e){return J(X(t,e,""),e.match,function(t,e){return-1!==t.indexOf(e,t.length-e.length)})}},mappers:{pass:function(t,e){return t},replace:function(t,e){if("string"!=typeof t)return t;var n=e.match||"";return e.regex&&(n=new RegExp(e.regex,"i")),t.replace(n,e.replacement||"")},substring:function(t,e){return"string"!=typeof t?t:t.substring(e.start||0,e.end||void 0)},translate:function(t,e){var n=e.conversions||e.convertions||{};return void 0!==n[t]?n[t]:t},classify:function(t,e){var n=e.conversions||e.convertions||{},r=Math.round(t);return void 0!==n[r]?n[r]:t},stratify:function(t,e){var n=e.conversions||e.convertions||{},r=e.default||t;return Object.keys(n).forEach(function(e){var u=e.split("-");2===u.length&&t>=Number(u[0])&&t<=Number(u[1])&&(r=n[e])}),r},cast:function(t,e){var n=e.type||"number";return G[n](t)}},selectors:{extract:function(t,e){return P.get(t,e.path,e.default)},join:function(t,e){return e.paths.map(function(n){return P.get(t,n,e.default)}).join(e.separator||" ")},split:function(t,e){return P.get(t,e.path,"").split(e.separator||" ")},format:function(t,e){return e.paths.reduce(function(n,r,u){return n.replace("{"+u+"}",P.get(t,r,e.default))},e.format||"")},compare:function(t,e){return P.compare(P.get(t,e.path),e.match,e.operator)?e.truth:e.false},operation:function(t,e){return e.path?P.calculate([P.get(t,e.path),e.operand],e.operator):e.paths?P.calculate(P.extractMap(t,e.paths),e.operator):e.keys?P.calculate(P.extractKeyValues(t,e.keys),e.operator):0},average:function(t,e){return e.paths?P.average(P.extractMap(t,e.paths)):e.keys?P.average(P.extractKeyValues(t,e.keys)):0},existsInArray:function(t,e){var n=P.get(t,e.path);if(!a.isArray(n))return n;var r=e.matchValue||1,u=e.mismatchValue||0;return-1!==n.indexOf(e.match)?r:u},pluck:function(t,e){var n=P.get(t,e.path);return a.isArray(n)&&e.property?n.map(function(t){return P.get(t,e.property,e.default||t)}):n},count:function(t,e){var n=P.get(t,e.path);return a.isArray(n)?e.match?n.filter(function(t){return P.compare(t,e.match,e.operator)}).length:n.length:n},merge:function(t,e){var n,r=[];return e.paths.forEach(function(e){n=P.get(t,e),a.isArray(n)&&(r=r.concat(n))}),r},zip:function(t,e){var n,r,u,i=[];return e.paths.forEach(function(e){if(n=P.get(t,e),a.isArray(n))for(u=n.length,r=0;r<u;r++)i[r]||(i[r]=[]),i[r].push(n[r])}),i},itemAt:function(t,e){var n=P.get(t,e.path);if(!a.isArray(n))return e.default;var r=void 0!==e.index?e.index:0,u=n.length;if(0===u)return e.default;for(;r<0;)r=u+r;return void 0!==n[r]?n[r]:e.default},groupBy:function(t,e){var n=P.get(t,e.path),r=e.default;if(!a.isArray(n))return r;if(!e.group)return console.warn("A 'group' parameter must be provided for the groupBy operation."),r;for(var u,i,o={},c=e.group,s=n.length-1;s>=0;s--)i=n[s],o[u=void 0!==(u=P.get(i,c))?u:r]=o[u]||[],o[u].push(i);return o},objKeys:function(t,e){var n=P.get(t,e.path);return a.isObject?Object.keys(n):n},objValues:function(t,e){var n=P.get(t,e.path);return a.isObject?Object.values(n):n},objEntries:function(t,e){var n=P.get(t,e.path);return a.isObject?Object.entries(n):n},formula:function(t,e){return e.expr?($[e.expr]||($[e.expr]=new b(e.expr)),$[e.expr].eval(t)):(console.warn("Invalid FormulaValue expression ('expr')."),t)}},reducers:{count:function(t,e,n){return Q(t,e,n,function(){return n?e+1:e})},operation:function(t,e,n){return Q(t,e,n,function(){return P.calculate([n,e],t.operator)})},average:function(t,e,n,r,u){return Q(t,e,n,function(){var t=P.calculate([n,e],"addition");return r<u-1?t:t/u})},sum:function(t,e,n){return Q(t,e,n,function(){return P.calculate([n,e],"addition")})},sumAndOperation:function(t,e,n){var r=P.calculate([n,e],"addition");return P.calculate([r,t.operand],t.operator)},array:function(t,e,n){return(e=a.isArray(e)?e:[]).push(n),e}},attachers:{formulaTemplate:function(t,e,n){if(!e.template)return console.warn("Missing attacher parameter ('template')."),null;var r={$index:n,item:t};return e.context&&(r.context=e.context),P.evalTemplate(e.template,r)},template:function(t,e){return e.template?e.template:(console.warn("Missing attacher parameter ('template')."),null)}}},et={overturn:function(t,e){return T(t,e.cont)},filters:function(t,e){return N(t,e.cont,at)},pick:function(t,e){return I(t,e.cont)},mappers:function(t,e){return W(t,e.cont,at)},explode:function(t,e){return K(t,e.cont)},selectors:function(t,e){return C(t,e.cont,at)},reducers:function(t,e){return[F(t,e.cont,at)]},attachers:function(t,e){return U(t,e.cont,at)},uniq:function(t,e){return B(t,e.cont)},pivot:function(t,e){return V(t,e.cont,at)},nest:function(t,e){var n=this,r=e.path,u=e.dest||r;return t.map(function(t){return P.set(t,u,ot.call(n,P.get(t,r,[]),e.cont))})},classify:function(t,e){return L(t,e.cont,at)},split:function(t,e){return q(t,e.cont,at)},remove:function(t,e){return H(t,e.cont)}},nt=["overturn","filters","pick","sorters","mappers","explode","selectors","uniq","reducers","pivot"],rt=function(t,e){var n=t[0];if(n&&nt.reduce(function(t,e){return t||!!n[e]},!1)){var r=[];return t.forEach(function(t){Object.keys(t).forEach(function(e){r.push({op:e,cont:t[e]})})}),e&&(console.warn("Legacy recipe found."),console.log("New recipe :"),console.log(JSON.stringify(r,null,3))),r}return t},ut=function(t,e,n){return et[(e=e||{}).op]?t=et[e.op].call(this,t,e,n):console.warn("Not found: "+e.op+"."),t},at=function(t,e){if(tt[t+"s"][e]){for(var n=arguments.length,r=new Array(n>2?n-2:0),u=2;u<n;u++)r[u-2]=arguments[u];return tt[t+"s"][e].apply(void 0,r)}return it(t,e)},it=function(t,e){return console.warn(t+" "+e+" was not found in the available processes."),!1};function ot(t,e,n){var r=this;return a.isObject(e)?e=[e]:a.isArray(e)||(e=[]),e=rt(e,this.options.verbose),n&&(e=this.applyParameters(e,n)),e.forEach(function(e){t=ut.call(r,t,e)}),t}var ct=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e}var e,n,r;return e=t,(n=[{key:"addOperationsBundle",value:function(t){this.addOperations("filter",t.filters),this.addOperations("picker",t.pickers),this.addOperations("mapper",t.mappers),this.addOperations("reducer",t.reducers),this.addOperations("attach",t.attachers)}},{key:"addOperations",value:function(t,e){for(var n in e)this.addOperation(t,n,e[n])}},{key:"addOperation",value:function(t,e,n){if(!t)return function(t,e){return console.warn(t+" is not a valid process type."),!1}();tt[t+"s"][e]=n}},{key:"addFilter",value:function(t,e){this.addOperation("filter",t,e)}},{key:"addMapper",value:function(t,e){this.addOperation("mapper",t,e)}},{key:"addReducer",value:function(t,e){this.addOperation("reducer",t,e)}},{key:"applyParameters",value:function(t,e){var n=JSON.stringify(t);for(var r in e)n=n.replace(new RegExp("#"+r+"#","g"),e[r]);return JSON.parse(n)}},{key:"cook",value:function(t,e,n){return ot.call(this,t,e,n)}},{key:"helper",value:function(){return P}}])&&Z(e.prototype,n),r&&Z(e,r),t}();e.default=ct}]).default});