!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?exports.Sushi=e(require("moment")):t.Sushi=e(t.moment)}(this,function(__WEBPACK_EXTERNAL_MODULE__2__){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(module,__webpack_exports__,__webpack_require__){"use strict";var underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),underscore__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),moment__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);const ARRAY_REFERENCE_REGEX=/(.*)\[(@|\*|\d+)]/g,processPath=t=>{if(!t)return[];let e,n=t.split(/\.|::/),r=[],a=(t,e,n)=>(r.push(e),"@"!==n&&"*"!==n&&(n=Number(n)),r.push(n),"");for(;n.length>0;)(e=(e=n.shift()).replace(ARRAY_REFERENCE_REGEX,a))&&r.push(e);return r},assignTo=(t,e,n,r)=>{let a,u=processPath(e);for(void 0!==n&&u.push(n);u.length;)a=u.shift(),u.length>0?(t[a]||("number"==typeof u[0]?t[a]=[]:t[a]={}),t=t[a]):t[a]=r},compact=(t,e)=>{let n,r=processPath(e);for(;r.length;)n=r.shift(),r.length>0?(t[n]||("number"==typeof r[0]?t[n]=[]:t[n]={}),t=t[n]):t[n]=underscore__WEBPACK_IMPORTED_MODULE_0___default.a.compact(t[n])},getDateTimeFormat=t=>{if(!t||"string"!=typeof t)return"";switch(t.length){case 10:return"YYYY-MM-DD";case 19:return"YYYY-MM-DD HH:mm:ss";case 8:return"HH:mm:ss";default:return""}},validateOperation=(t,e,n)=>{switch(n){case"years":case"months":case"weeks":case"days":if("HH:mm:ss"===t||"HH:mm:ss"===e)return!1;break;case"hours":case"minutes":case"seconds":if(("HH:mm:ss"===t||"HH:mm:ss"===e)&&t!==e)return!1}return!0},evalWithSafeEnvironment=function(){const __defaultSpec="seconds",__availableSpecs={Y:"years",M:"months",W:"weeks",D:"days",h:"hours",m:"minutes",s:"seconds",years:"years",months:"months",weeks:"weeks",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"},__processStarOperator=(array,path)=>{let result=[];if(array&&underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(array)&&array.length){let value,pushNestedElement=nestedElement=>{value.push(eval("nestedElement"+path))};for(let i=0,len=array.length;i<len;i++){if(underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(array[i]))value=[],array[i].forEach(pushNestedElement);else{value=null;try{value=eval("array[i]"+path)}catch(t){console.warn(t)}}result.push(value)}}return result},dateDiff=(t,e,n)=>{let r=getDateTimeFormat(t),a=getDateTimeFormat(e);return n=__availableSpecs[n]||__defaultSpec,validateOperation(r,a,n)?(t=moment__WEBPACK_IMPORTED_MODULE_1___default()(t,r),e=moment__WEBPACK_IMPORTED_MODULE_1___default()(e,a),t.diff(e,n)):(console.warn("Invalid inputs at dateDiff."),null)},sum=t=>{let e=0;if(t&&underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(t)&&t.length)for(let n=0,r=t.length;n<r;n++)t[n]&&(e+=t[n]);return e},extract=(t,e,n)=>{e=e||",",n=n||0;let r=(t="string"==typeof t?t:t||"").split(e)[n];return isNaN(r)?r:Number(r)},flatten=underscore__WEBPACK_IMPORTED_MODULE_0___default.a.flatten,groupConcat=(t,e=", ")=>t.join(e);function concat(){return Array.prototype.slice.call(arguments).join("")}const count=t=>t.length,avg=t=>{let e=sum(t);return t&&underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(t)&&t.length>0&&(e/=t.length),e},formatDate=(t,e)=>moment__WEBPACK_IMPORTED_MODULE_1___default()(t).format(e);return function(formula,data,metaData){return eval(formula)}}.call();__webpack_exports__.a={processPath:processPath,assignTo:assignTo,compact:compact,patterns:{variable:"{{([^}]+)}}",parsedExpression:"\\[\\*(\\d*)\\*\\]",invalidVariable:"\\[(?!(?:@|\\*|\\d+)\\]|[\\.$])|^[^\\[]*\\]|\\][^\\[]*\\]|[\\{\\}]|\\][]|\\][^\\.\\[]"},dataVarName:"data",metaDataVarName:"metaData",evalWithSafeEnvironment:evalWithSafeEnvironment}},function(t,e,n){(function(t,n){var r;!function(){var a="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},u=a._,i=Array.prototype,o=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,s=i.push,l=i.slice,f=o.toString,p=o.hasOwnProperty,h=Array.isArray,v=Object.keys,d=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};e.nodeType?a._=y:(!n.nodeType&&n.exports&&(e=n.exports=y),e._=y),y.VERSION="1.9.1";var g,_=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,a){return t.call(e,n,r,a)};case 4:return function(n,r,a,u){return t.call(e,n,r,a,u)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return y.iteratee!==g?y.iteratee(t,e):null==t?y.identity:y.isFunction(t)?_(t,e,n):y.isObject(t)&&!y.isArray(t)?y.matcher(t):y.property(t)};y.iteratee=g=function(t,e){return b(t,e,1/0)};var O=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),a=0;a<n;a++)r[a]=arguments[a+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var u=Array(e+1);for(a=0;a<e;a++)u[a]=arguments[a];return u[e]=r,t.apply(this,u)}},E=function(t){if(!y.isObject(t))return{};if(d)return d(t);m.prototype=t;var e=new m;return m.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},A=function(t,e){return null!=t&&p.call(t,e)},w=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},j=Math.pow(2,53)-1,k=x("length"),M=function(t){var e=k(t);return"number"==typeof e&&e>=0&&e<=j};y.each=y.forEach=function(t,e,n){var r,a;if(e=_(e,n),M(t))for(r=0,a=t.length;r<a;r++)e(t[r],r,t);else{var u=y.keys(t);for(r=0,a=u.length;r<a;r++)e(t[u[r]],u[r],t)}return t},y.map=y.collect=function(t,e,n){e=b(e,n);for(var r=!M(t)&&y.keys(t),a=(r||t).length,u=Array(a),i=0;i<a;i++){var o=r?r[i]:i;u[i]=e(t[o],o,t)}return u};var P=function(t){var e=function(e,n,r,a){var u=!M(e)&&y.keys(e),i=(u||e).length,o=t>0?0:i-1;for(a||(r=e[u?u[o]:o],o+=t);o>=0&&o<i;o+=t){var c=u?u[o]:o;r=n(r,e[c],c,e)}return r};return function(t,n,r,a){var u=arguments.length>=3;return e(t,_(n,a,4),r,u)}};y.reduce=y.foldl=y.inject=P(1),y.reduceRight=y.foldr=P(-1),y.find=y.detect=function(t,e,n){var r=(M(t)?y.findIndex:y.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},y.filter=y.select=function(t,e,n){var r=[];return e=b(e,n),y.each(t,function(t,n,a){e(t,n,a)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(b(e)),n)},y.every=y.all=function(t,e,n){e=b(e,n);for(var r=!M(t)&&y.keys(t),a=(r||t).length,u=0;u<a;u++){var i=r?r[u]:u;if(!e(t[i],i,t))return!1}return!0},y.some=y.any=function(t,e,n){e=b(e,n);for(var r=!M(t)&&y.keys(t),a=(r||t).length,u=0;u<a;u++){var i=r?r[u]:u;if(e(t[i],i,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return M(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=O(function(t,e,n){var r,a;return y.isFunction(e)?a=e:y.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),y.map(t,function(t){var u=a;if(!u){if(r&&r.length&&(t=w(t,r)),null==t)return;u=t[e]}return null==u?u:u.apply(t,n)})}),y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,a,u=-1/0,i=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var o=0,c=(t=M(t)?t:y.values(t)).length;o<c;o++)null!=(r=t[o])&&r>u&&(u=r);else e=b(e,n),y.each(t,function(t,n,r){((a=e(t,n,r))>i||a===-1/0&&u===-1/0)&&(u=t,i=a)});return u},y.min=function(t,e,n){var r,a,u=1/0,i=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var o=0,c=(t=M(t)?t:y.values(t)).length;o<c;o++)null!=(r=t[o])&&r<u&&(u=r);else e=b(e,n),y.each(t,function(t,n,r){((a=e(t,n,r))<i||a===1/0&&u===1/0)&&(u=t,i=a)});return u},y.shuffle=function(t){return y.sample(t,1/0)},y.sample=function(t,e,n){if(null==e||n)return M(t)||(t=y.values(t)),t[y.random(t.length-1)];var r=M(t)?y.clone(t):y.values(t),a=k(r);e=Math.max(Math.min(e,a),0);for(var u=a-1,i=0;i<e;i++){var o=y.random(i,u),c=r[i];r[i]=r[o],r[o]=c}return r.slice(0,e)},y.sortBy=function(t,e,n){var r=0;return e=b(e,n),y.pluck(y.map(t,function(t,n,a){return{value:t,index:r++,criteria:e(t,n,a)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var S=function(t,e){return function(n,r,a){var u=e?[[],[]]:{};return r=b(r,a),y.each(n,function(e,a){var i=r(e,a,n);t(u,e,i)}),u}};y.groupBy=S(function(t,e,n){A(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=S(function(t,e,n){t[n]=e}),y.countBy=S(function(t,e,n){A(t,n)?t[n]++:t[n]=1});var D=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(t){return t?y.isArray(t)?l.call(t):y.isString(t)?t.match(D):M(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:M(t)?t.length:y.keys(t).length},y.partition=S(function(t,e,n){t[n?0:1].push(e)},!0),y.first=y.head=y.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,Boolean)};var N=function(t,e,n,r){for(var a=(r=r||[]).length,u=0,i=k(t);u<i;u++){var o=t[u];if(M(o)&&(y.isArray(o)||y.isArguments(o)))if(e)for(var c=0,s=o.length;c<s;)r[a++]=o[c++];else N(o,e,n,r),a=r.length;else n||(r[a++]=o)}return r};y.flatten=function(t,e){return N(t,e,!1)},y.without=O(function(t,e){return y.difference(t,e)}),y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=b(n,r));for(var a=[],u=[],i=0,o=k(t);i<o;i++){var c=t[i],s=n?n(c,i,t):c;e&&!n?(i&&u===s||a.push(c),u=s):n?y.contains(u,s)||(u.push(s),a.push(c)):y.contains(a,c)||a.push(c)}return a},y.union=O(function(t){return y.uniq(N(t,!0,!0))}),y.intersection=function(t){for(var e=[],n=arguments.length,r=0,a=k(t);r<a;r++){var u=t[r];if(!y.contains(e,u)){var i;for(i=1;i<n&&y.contains(arguments[i],u);i++);i===n&&e.push(u)}}return e},y.difference=O(function(t,e){return e=N(e,!0,!0),y.filter(t,function(t){return!y.contains(e,t)})}),y.unzip=function(t){for(var e=t&&y.max(t,k).length||0,n=Array(e),r=0;r<e;r++)n[r]=y.pluck(t,r);return n},y.zip=O(y.unzip),y.object=function(t,e){for(var n={},r=0,a=k(t);r<a;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var T=function(t){return function(e,n,r){n=b(n,r);for(var a=k(e),u=t>0?0:a-1;u>=0&&u<a;u+=t)if(n(e[u],u,e))return u;return-1}};y.findIndex=T(1),y.findLastIndex=T(-1),y.sortedIndex=function(t,e,n,r){for(var a=(n=b(n,r,1))(e),u=0,i=k(t);u<i;){var o=Math.floor((u+i)/2);n(t[o])<a?u=o+1:i=o}return u};var R=function(t,e,n){return function(r,a,u){var i=0,o=k(r);if("number"==typeof u)t>0?i=u>=0?u:Math.max(u+o,i):o=u>=0?Math.min(u+1,o):u+o+1;else if(n&&u&&o)return r[u=n(r,a)]===a?u:-1;if(a!=a)return(u=e(l.call(r,i,o),y.isNaN))>=0?u+i:-1;for(u=t>0?i:o-1;u>=0&&u<o;u+=t)if(r[u]===a)return u;return-1}};y.indexOf=R(1,y.findIndex,y.sortedIndex),y.lastIndexOf=R(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),a=Array(r),u=0;u<r;u++,t+=n)a[u]=t;return a},y.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,a=t.length;r<a;)n.push(l.call(t,r,r+=e));return n};var I=function(t,e,n,r,a){if(!(r instanceof e))return t.apply(n,a);var u=E(t.prototype),i=t.apply(u,a);return y.isObject(i)?i:u};y.bind=O(function(t,e,n){if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var r=O(function(a){return I(t,r,e,this,n.concat(a))});return r}),y.partial=O(function(t,e){var n=y.partial.placeholder,r=function(){for(var a=0,u=e.length,i=Array(u),o=0;o<u;o++)i[o]=e[o]===n?arguments[a++]:e[o];for(;a<arguments.length;)i.push(arguments[a++]);return I(t,r,this,this,i)};return r}),y.partial.placeholder=y,y.bindAll=O(function(t,e){var n=(e=N(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=y.bind(t[r],t)}}),y.memoize=function(t,e){var n=function(r){var a=n.cache,u=""+(e?e.apply(this,arguments):r);return A(a,u)||(a[u]=t.apply(this,arguments)),a[u]};return n.cache={},n},y.delay=O(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,a,u,i,o=0;n||(n={});var c=function(){o=!1===n.leading?0:y.now(),r=null,i=t.apply(a,u),r||(a=u=null)},s=function(){var s=y.now();o||!1!==n.leading||(o=s);var l=e-(s-o);return a=this,u=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),o=s,i=t.apply(a,u),r||(a=u=null)):r||!1===n.trailing||(r=setTimeout(c,l)),i};return s.cancel=function(){clearTimeout(r),o=0,r=a=u=null},s},y.debounce=function(t,e,n){var r,a,u=function(e,n){r=null,n&&(a=t.apply(e,n))},i=O(function(i){if(r&&clearTimeout(r),n){var o=!r;r=setTimeout(u,e),o&&(a=t.apply(this,i))}else r=y.delay(u,e,this,i);return a});return i.cancel=function(){clearTimeout(r),r=null},i},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2),y.restArguments=O;var K=!{toString:null}.propertyIsEnumerable("toString"),W=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=function(t,e){var n=W.length,r=t.constructor,a=y.isFunction(r)&&r.prototype||o,u="constructor";for(A(t,u)&&!y.contains(e,u)&&e.push(u);n--;)(u=W[n])in t&&t[u]!==a[u]&&!y.contains(e,u)&&e.push(u)};y.keys=function(t){if(!y.isObject(t))return[];if(v)return v(t);var e=[];for(var n in t)A(t,n)&&e.push(n);return K&&C(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return K&&C(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),a=0;a<n;a++)r[a]=t[e[a]];return r},y.mapObject=function(t,e,n){e=b(e,n);for(var r=y.keys(t),a=r.length,u={},i=0;i<a;i++){var o=r[i];u[o]=e(t[o],o,t)}return u},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),a=0;a<n;a++)r[a]=[e[a],t[e[a]]];return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,a=n.length;r<a;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()};var F=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var a=1;a<r;a++)for(var u=arguments[a],i=t(u),o=i.length,c=0;c<o;c++){var s=i[c];e&&void 0!==n[s]||(n[s]=u[s])}return n}};y.extend=F(y.allKeys),y.extendOwn=y.assign=F(y.keys),y.findKey=function(t,e,n){e=b(e,n);for(var r,a=y.keys(t),u=0,i=a.length;u<i;u++)if(e(t[r=a[u]],r,t))return r};var B,V,L=function(t,e,n){return e in n};y.pick=O(function(t,e){var n={},r=e[0];if(null==t)return n;y.isFunction(r)?(e.length>1&&(r=_(r,e[1])),e=y.allKeys(t)):(r=L,e=N(e,!1,!1),t=Object(t));for(var a=0,u=e.length;a<u;a++){var i=e[a],o=t[i];r(o,i,t)&&(n[i]=o)}return n}),y.omit=O(function(t,e){var n,r=e[0];return y.isFunction(r)?(r=y.negate(r),e.length>1&&(n=e[1])):(e=y.map(N(e,!1,!1),String),r=function(t,n){return!y.contains(e,n)}),y.pick(t,r,n)}),y.defaults=F(y.allKeys,!0),y.create=function(t,e){var n=E(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var a=Object(t),u=0;u<r;u++){var i=n[u];if(e[i]!==a[i]||!(i in a))return!1}return!0},B=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var a=typeof t;return("function"===a||"object"===a||"object"==typeof e)&&V(t,e,n,r)},V=function(t,e,n,r){t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var a=f.call(t);if(a!==f.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return c.valueOf.call(t)===c.valueOf.call(e)}var u="[object Array]"===a;if(!u){if("object"!=typeof t||"object"!=typeof e)return!1;var i=t.constructor,o=e.constructor;if(i!==o&&!(y.isFunction(i)&&i instanceof i&&y.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var s=(n=n||[]).length;s--;)if(n[s]===t)return r[s]===e;if(n.push(t),r.push(e),u){if((s=t.length)!==e.length)return!1;for(;s--;)if(!B(t[s],e[s],n,r))return!1}else{var l,p=y.keys(t);if(s=p.length,y.keys(e).length!==s)return!1;for(;s--;)if(l=p[s],!A(e,l)||!B(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0},y.isEqual=function(t,e){return B(t,e)},y.isEmpty=function(t){return null==t||(M(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=h||function(t){return"[object Array]"===f.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){y["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return A(t,"callee")});var q=a.document&&a.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof q&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return!y.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&isNaN(t)},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){if(!y.isArray(e))return A(t,e);for(var n=e.length,r=0;r<n;r++){var a=e[r];if(null==t||!p.call(t,a))return!1;t=t[a]}return!!n},y.noConflict=function(){return a._=u,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=function(t){return y.isArray(t)?function(e){return w(e,t)}:x(t)},y.propertyOf=function(t){return null==t?function(){}:function(e){return y.isArray(e)?w(t,e):t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=_(e,n,1);for(var a=0;a<t;a++)r[a]=e(a);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=y.invert(U),Y=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),a=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(a,e):t}};y.escape=Y(U),y.unescape=Y(H),y.result=function(t,e,n){y.isArray(e)||(e=[e]);var r=e.length;if(!r)return y.isFunction(n)?n.call(t):n;for(var a=0;a<r;a++){var u=null==t?void 0:t[e[a]];void 0===u&&(u=n,a=r),t=y.isFunction(u)?u.call(t):u}return t};var z=0;y.uniqueId=function(t){var e=++z+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,G=function(t){return"\\"+X[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r,a=RegExp([(e.escape||J).source,(e.interpolate||J).source,(e.evaluate||J).source].join("|")+"|$","g"),u=0,i="__p+='";t.replace(a,function(e,n,r,a,o){return i+=t.slice(u,o).replace($,G),u=o+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{r=new Function(e.variable||"obj","_",i)}catch(t){throw t.source=i,t}var o=function(t){return r.call(this,t,y)},c=e.variable||"obj";return o.source="function("+c+"){\n"+i+"}",o},y.chain=function(t){var e=y(t);return e._chain=!0,e};var Q=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){return y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),Q(this,n.apply(y,t))}}),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Q(this,n)}}),y.each(["concat","join","slice"],function(t){var e=i[t];y.prototype[t]=function(){return Q(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return y}.apply(e,[]))||(n.exports=r)}()}).call(this,n(3),n(4)(t))},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e);var r=function(t){return Array.isArray(t)},a=function(t){return"[object Object]"===Object.prototype.toString.call(t)},u={isArray:r,isObject:a,isObjectish:function(t){return t===Object(t)},omit:function(t,e){if(!a(t))return t;e=r(e)?e:[e];var n={};for(var u in t)t.hasOwnProperty(u)&&-1===e.indexOf(u)&&(n[u]=t[u]);return n}},i=function(t,e){if(!e.pivot)return console.warn("Overturn operation needs a 'pivot' parameter."),t;var n=e.pivot,r=e.dest||"parent",a=e.child||null,i=!!e.includeEmpty;return t.reduce(function(t,e){return function(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=u.omit(e,n),c=e[n];return u.isArray(c)?(i&&0===c.length&&c.push({}),t.concat(c.map(function(t){if(u.isObject(t))t[r]=o;else if(a){var e={};e[r]=o,e[a]=t,t=e}return t}))):u.isObject(c)||i&&(c={})?(c[r]=o,t.push(c),t):t}(t,e,n,r,a,i)},[])},o=n(1),c=n.n(o),s=n(0);const l=new RegExp(s.a.patterns.invalidVariable);class f{constructor(t){this._path=s.a.processPath(t),this._hasStar=this._path.indexOf("*")>-1,this._hasAt=this._path.indexOf("@")>-1,this._hasContext=this._hasAt,t.indexOf("::")>-1?this._environment=s.a.metaDataVarName:this._environment=s.a.dataVarName,""===t?this._parsedVariable="null":this._hasContext||(this._parsedVariable=f._parse(this._path,this._environment))}parseVariable(t){return this._parsedVariable||this._parseWithContext(t)}_parseWithContext(t){let e=0,n=t.length,r=this._path.length,a=this._path.slice();for(;e<n&&e<r;e++)if("@"===a[e]&&c.a.isNumber(t[e]))a[e]=Number(t[e]);else if(a[e]!==t[e]||"*"===a[e])break;for(;e<r;e++)if("@"===a[e])throw new Error("Context could not fully resolve");return f._parse(a,this._environment)}hasStar(){return this._hasStar}hasAt(){return this._hasAt}static isValid(t){return!l.test(t)}static _parse(t,e){let n,r=!1,a=e;for(let e=0,u=t.length;e<u;e++)"*"===(n=t[e])?(r?a+='")':r=!0,a="__processStarOperator("+a+',"'):a+="['"+n+"']";return r&&(a+='")'),a}}const p=new RegExp(s.a.patterns.variable,"g");class h{constructor(t,e){this._variables=[];for(var n=0,r=t.length;n<r;n++){var a=t[n];e=e.replace(new RegExp(a.pattern,"g"),a.replacement)}const u={};this._parsedExpression=e.replace(p,(t,e)=>f.isValid(e)?(u[e]||(u[e]=this._variables.length,this._variables.push(new f(e))),"[*"+u[e]+"*]"):"{{"+e+"}}")}eval(){throw new Error("Eval is not implemented")}getDependencies(){throw new Error("GetDependencies is not implemented")}}var v=[{pattern:"^=",replacement:""},{pattern:"'",replacement:"\\'"}];class d extends h{constructor(t){super(v,t)}eval(t,e,n){let r=null;try{let a=s.a.processPath(n),u=this._variables.map(t=>t.parseVariable(a)),i=this._parsedExpression.replace(/\[\*(\d*)\*\]/g,(t,e)=>u[parseInt(e)]);r=s.a.evalWithSafeEnvironment(i,t,e)}catch(t){console.warn(t)}return r}getDependencies(){return this._variables.map(t=>t.split("::").shift())}static isFormula(t){return"string"==typeof t&&0===t.indexOf("=")}}const m=[{pattern:"'",replacement:"\\'"}],y=new RegExp(s.a.patterns.variable),g=new RegExp(s.a.patterns.parsedExpression,"g");class _ extends h{constructor(t=""){super(m,t)}eval(t,e,n){let r="";try{let a=s.a.processPath(n),u=this._variables.map(n=>n.hasStar()?"":s.a.evalWithSafeEnvironment(n.parseVariable(a),t,e));r=this._parsedExpression.replace(g,(t,e)=>u[parseInt(e)])}catch(t){console.warn(t)}return r}getDependencies(){return this._variables.map(t=>t.split("::").shift())}static isConcatenatedText(t){return"string"==typeof t&&y.test(t)}}class b extends h{constructor(t){super([],""),this.value=t}eval(){return this.value}}class O{constructor(t=""){d.isFormula(t)?this.compiledExpression=new d(t):_.isConcatenatedText(t)?this.compiledExpression=new _(t):this.compiledExpression=new b(t)}eval(t={},e={},n=""){return this.compiledExpression.eval(t,e,n)}static isFormulaValue(t){return d.isFormula(t)||_.isConcatenatedText(t)}}var E=function(t){return u.isArray(t)?t:[t]},x=new RegExp("(.+)\\[([0-9]*)\\]"),A=function(t,e,n){if(""===e)return t;for(var r,a,u=e.split(".");u.length&&t;)if(r=u.shift(),null!==(a=x.exec(r))&&3===a.length){var i={arrName:a[1],arrIndex:a[2]};t=void 0!==t[i.arrName]?t[i.arrName][i.arrIndex]:void 0}else t=isNaN(r)?t[r]:t[void 0===t[r]?Number(r):r];return void 0===t?n:t},w=function(t,e){return!t||(t=u.isArray(t)?t:[t]).reduce(function(t,n){var r=!1,a=n.indexOf("*");if(-1!==a){var u=n.lastIndexOf("*");-1!==u&&a!==u?r=e.includes(n.substring(a+1,u)):0===a?r=e.endsWith(n.substr(1)):a===n.length-1&&(r=e.startsWith(n.slice(0,-1)))}else r=e===n;return t||r},!1)},j=function(t,e){return Object.keys(t).filter(function(t){return w(e,t)})},k=function(t,e){e=e||"addition";var n={addition:{method:function(t,e){return t+e},neutral:0},subtraction:{method:function(t,e){return t-e},neutral:0},division:{method:function(t,e){return t/e},neutral:1},multiplication:{method:function(t,e){return t*e},neutral:1}};return t.reduce(function(t,r){return r=null==r?0:r,n[e].method(parseFloat(r)||n[e].neutral,t)},n[e].neutral)},M=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n[t]||(n[t]=new O(t));var r=n[t];return r.eval(e)},P={get:A,set:function(t,e,n){for(var r,a=t,u=-1,i=(e=e.split(".")).length,o=i-1;null!==a&&++u<i;)a[r=e[u]]=u===o?n:void 0!==a[r]?a[r]:{},a=a[r];return t},remove:function(t,e){for(var n,r=t,a=-1,u=(e=e.split(".")).length,i=u-1;null!==r&&++a<u;)if(n=e[a],a===i)Array.isArray(r)?r.splice(n,1):delete r[n];else{if(void 0===r[n])break;r=r[n]}return t},extractMap:function(t,e,n){return E(e).map(function(e){return A(t,e,n)})},iterateMap:function(t,e,n,r){E(e).forEach(function(e){r(e,A(t,e,n))})},extractKeys:j,extractKeyValues:function(t,e){return j(t,e).map(function(e){return t[e]})},getKeys:function(t,e){return Object.keys(t).filter(function(t){return w(e,t)})},iterateKeys:function(t,e,n){Object.keys(t).forEach(function(t){w(e,t)&&n(t)})},evalValues:function(t,e){return t.reduce(function(t,n){return t||function(t,e){return!u.isArray(e)&&!u.isObject(e)&&("!"===t.charAt(0)?!e.includes(t.substr(1)):e.includes(t))}(n,e)},!1)},compare:function(t,e,n){var r={eq:function(t,e){return t===e},ne:function(t,e){return t!==e},lt:function(t,e){return t<e},gt:function(t,e){return t>e},le:function(t,e){return t<=e},ge:function(t,e){return t>=e}};return r[n=n||"eq"]?r[n](t,e):null},calculate:k,average:function(t){return 0===(t=t.filter(function(t){return null!=t})).length?0:k(t,"addition")/t.length},compareString:function(t,e,n){return{eq:function(t,e){return t===e},ne:function(t,e){return t!==e},includes:function(t,e){return t.includes(e)},startsWith:function(t,e){return t.startsWith(e)},endsWith:function(t,e){return t.endsWith(e)}}[n=n||"eq"](t,e)},evalFV:M,evalTemplate:function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{};if(e!==Object(e))return M(e,n,r);var a,u,i=Array.isArray(e)?e.slice():Object.assign({},e);for(var o in i)u=M(o,n,r),(a=i[o])===Object(a)?i[u]=t(a,n):i[u]=M(a,n,r),u!==o&&delete i[o];return i},deepNavigate:function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Array.isArray(n))for(var i=0;i<n.length;i++){var o=a.slice();o.push(i),e=n[i],u.isObjectish(e)?t(e,r,o):r(n,e,o)}else for(var c in n){var s=a.slice();s.push(c),e=n[c],u.isObjectish(e)?t(e,r,s):r(n,e,s)}},deepDelete:function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Array.isArray(n)){for(var i=[],o=0;o<n.length;o++){var c=a.slice();c.push(o),e=n[o],u.isObjectish(e)?t(e,r,c):r(n,e,c)&&i.push(o)}if(i.length)for(var s=i.length-1;s>=0;s--)n.splice(i[s],1)}else for(var l in n){var f=a.slice();f.push(l),e=n[l],u.isObjectish(e)?t(e,r,f):r(n,e,f)&&delete n[l]}}};function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N=function(t,e){for(var n,r,a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t.length,o=0;o<i;o++){for(a in n={},r=t[o])n[r[a]]=P.get(e,a);u.push(n)}return u},T=function(t){var e,n,r=function(){return!1},a=r,u=r;if(void 0!==t.keyMatch){var i=t.keyMatch;e=!0,a=function(t){return t.match?t.match(i):t===i}}if(void 0!==t.valueMatch){var o=t.valueMatch;n=!0,u=function(t){return t?t.match?t.match(o):t===o:Object.is(t,NaN)?null==o:t==o}}return{evalKeyMatch:a,evalValueMatch:u,keyMatchExists:e,valueMatchExists:n}};var R=function(t,e,n){return P.evalFV(t,e,n)},I=function(t,e,n){if(Array.isArray(t)){for(var r=(o={},(i=e)in(u={})?Object.defineProperty(u,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):u[i]=o,u),a=0;a<t.length;a++)r[e][a]=t[a];return Object.assign(r,n)}return n;var u,i,o},K=function(t,e,n){var r=T(n);if(r.keyMatchExists||r.valueMatchExists){var a,u,i,o,c=n.replacement,s={$index:e,item:t},l={};P.deepNavigate(t,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];a=n.slice(-1)[0],u=r.evalKeyMatch(a),i=r.evalValueMatch(e),o=null,u&&(o=I(u,"keyMatch",s)),i&&(o=I(i,"valueMatch",s)),o&&(o.key=a,o.value=e,t[a]=R(c,o,l))})}return t},W={overturn:i,filter:function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.filter(function(t){return e.reduce(function(e,r){return e&&n("filter",r.name,t,r)},!0)})):t},pick:function(t,e){return t.map(function(t){var n={};return e.keys&&P.iterateKeys(t,e.keys,function(r){e.values&&P.evalValues(e.values,t[r])?n[r]=t[r]:e.values||(n[r]=t[r])}),e.paths&&P.iterateMap(t,e.paths,null,function(t,e){n=P.set(n,t,e)}),n})},sort:function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.sort(function(t){return e.reduce(function(e,r){return e&&n("sorter",r.name,t,r)},!0)})):t},map:function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.map(function(t){return e.forEach(function(e){P.iterateKeys(t,e.keys,function(r){t[r]=n("mapper",e.name,t[r],e)})},{}),t})):t},explode:function(t,e){return t.reduce(function(t,n){return t.concat(Object.keys(n).reduce(function(t,r){var a={};if(e.id){if(e.id.includes(r))return t;a.id=P.get(n,e.id)}return a[e.key?e.key:"key"]=r,a[e.value?e.value:"value"]=n[r],t.push(a),t},[]))},[])},select:function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.map(function(t){return e.reduce(function(e,r){return e[r.dest]=n("selector",r.name,t,r),e},{})})):t},uniq:function(t,e){var n=[],r={};if(!e||!e.path)return console.warn("A 'path' parameter must be provided for the uniq operation."),t;for(var a=t.length-1;a>=0;a--)1!==r[P.get(t[a],e.path)]&&(r[P.get(t[a],e.path)]=1,n.push(t[a]));return n},reduce:function(t,e,n){return e?(Array.isArray(e)||(e=[e]),e.reduce(function(e,r){var a=r.start||0;if(r.group&&r.path){var u,i=e,o=t.reduce(function(t,e){return t[u=P.get(e,r.group)]=t[u]||0,t[u]++,t},{});r.dest&&(e[r.dest]={},i=e[r.dest]);var c={};t.forEach(function(t){u=P.get(t,r.group),c[u]=c[u]||0,i[u]=n("reducer",r.name,r,i[u]||a,P.get(t,r.path),c[u],o[u]),c[u]++})}else r.path&&r.dest?e[r.dest]=t.reduce(function(e,a,u){return n("reducer",r.name,r,e,P.get(a,r.path),u,t.length)},a):r.keys&&t.forEach(function(u,i){P.iterateKeys(u,r.keys,function(o){e[o]=n("reducer",r.name,r,e[o]||a,u[o],i,t.length)})});return e},{})):t},pivot:function(t,e){for(var n,r,a,u,i,o,c={sum:function(t,n){return t+P.get(n,e.aggregationPath,0)},count:function(t,e){return t+1}},s=[],l={},f=[],p=e.rowSourcePath,h=e.rowTargetPath||p,v=e.columnPath,d=!!e.includeRowTotal,m=!!e.includeColumnTotal,y=e.totalRowName||"Total",g=e.totalColumnName||"Total",_=c[e.aggregationOp||"count"],b=0,O=t.length;b<O;b++)if(r=t[b],u=P.get(r,p,void 0)){if(l[u])a=l[u];else{a={};for(var E=f.length-1;E>=0;E--)a[f[E]]=0;l[u]=a,s.push(a),P.set(a,h,u)}if(n=P.get(r,v,void 0)){if(-1===f.indexOf(n)){f.push(n);for(var x=s.length-1;x>=0;x--)s[x][n]=0}i=a[n]||0,a[n]=_(i,r)}}(d||m)&&function(){var t,e={};if(m){for(b=f.length-1;b>=0;b--)e[f[b]]=0;P.set(e,h,g)}for(b=0,o=s.length;b<o;b++){if(t=s[b],m)for(E=f.length-1;E>=0;E--)n=f[E],e[n]+=t[n];d&&(t[y]=f.reduce(function(e,n){return e+t[n]},0))}m&&(d&&(e[y]=f.reduce(function(t,n){return t+e[n]},0)),s.push(e))}();return s},classify:function(t,e){if(!e||!e.path)return console.warn("A 'path' parameter must be provided for the classify operation."),t;for(var n,r,a=e.path,u=e.dest||"dest",i=e.id||a,o=e.default,c={},s=t.length,l=0;l<s;l++)r=t[l],n=P.get(r,a),c[n=void 0!==n?n:o]=c[n]||{},c[n][u]=c[n][u]||[],c[n][u].push(r);return Object.keys(c).map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(n,!0).forEach(function(e){D(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}(D({},i,t),c[t])})},split:function(t,e){if(!e||!e.parts)return console.warn("A 'parts' parameter must be provided for the split operation."),t;for(var n=[],r=e.parts,a=t.length,u=0;u<a;u++)n=N(r,t[u],n);return n},attach:function(t,e,n){return e?(Array.isArray(e)||(e=[e]),t.map(function(t,r){return e.forEach(function(e){t[e.dest]=n("attacher",e.name,t,e,r)}),t})):t},remove:function(t,e){var n=T(e),r=n.evalKeyMatch,a=n.evalValueMatch,u=n.keyMatchExists,i=n.valueMatchExists,o=e.paths;return t.map(function(t){var e;(o&&o.forEach(function(e){P.remove(t,e)}),u||i)&&P.deepDelete(t,function(t,n){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e=u.slice(-1)[0],r(e)||a(n)});return t})},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map(function(t,n){return e.forEach(function(e){t=K(t,n,e)}),t})}};function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var F={},B=function(t,e,n){return u.isArray(e)?e.reduce(function(e,r){return e||n(t,r)},!1):n(t,e)},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.path)return P.get(t,e.path);if(e.expr){var r=e.expr;F[r]||(F[r]=new O(r));var a=F[r];return a.eval(t)}return n},L={match:function(t,e){return B(V(t,e),e.match,function(t,e){return t===e})},mismatch:function(t,e){return B(V(t,e),e.match,function(t,e){return t!==e})},matchType:function(t,e){return B(V(t,e),e.match,function(t,e){return C(t)===e})},mismatchType:function(t,e){return B(V(t,e),e.match,function(t,e){return C(t)!==e})},includes:function(t,e){return B(V(t,e),e.match,function(t,e){return t.includes(e)})},excludes:function(t,e){return B(V(t,e),e.match,function(t,e){return!t.includes(e)})},compare:function(t,e){return P.compare(V(t,e),e.match,e.operator)},start:function(t,e){return B(V(t,e,""),e.match,function(t,e){return 0===t.indexOf(e)})},end:function(t,e){return B(V(t,e,""),e.match,function(t,e){return-1!==t.indexOf(e,t.length-e.length)})}},q={string:String,number:Number,boolean:Boolean},U={pass:function(t,e){return t},replace:function(t,e){if("string"!=typeof t)return t;var n=e.match||"";return e.regex&&(n=new RegExp(e.regex,"i")),t.replace(n,e.replacement||"")},substring:function(t,e){return"string"!=typeof t?t:t.substring(e.start||0,e.end||void 0)},translate:function(t,e){var n=e.conversions||e.convertions||{};return void 0!==n[t]?n[t]:t},classify:function(t,e){var n=e.conversions||e.convertions||{},r=Math.round(t);return void 0!==n[r]?n[r]:t},stratify:function(t,e){var n=e.conversions||e.convertions||{},r=e.default||t;return Object.keys(n).forEach(function(e){var a=e.split("-");2===a.length&&t>=Number(a[0])&&t<=Number(a[1])&&(r=n[e])}),r},cast:function(t,e){var n=e.type||"number";return q[n](t)}},H={},Y={extract:function(t,e){return P.get(t,e.path,e.default)},join:function(t,e){return e.paths.map(function(n){return P.get(t,n,e.default)}).join(e.separator||" ")},split:function(t,e){return P.get(t,e.path,"").split(e.separator||" ")},format:function(t,e){return e.paths.reduce(function(n,r,a){return n.replace("{"+a+"}",P.get(t,r,e.default))},e.format||"")},compare:function(t,e){return P.compare(P.get(t,e.path),e.match,e.operator)?e.truth:e.false},operation:function(t,e){return e.path?P.calculate([P.get(t,e.path),e.operand],e.operator):e.paths?P.calculate(P.extractMap(t,e.paths),e.operator):e.keys?P.calculate(P.extractKeyValues(t,e.keys),e.operator):0},average:function(t,e){return e.paths?P.average(P.extractMap(t,e.paths)):e.keys?P.average(P.extractKeyValues(t,e.keys)):0},existsInArray:function(t,e){var n=P.get(t,e.path);if(!u.isArray(n))return n;var r=e.matchValue||1,a=e.mismatchValue||0;return-1!==n.indexOf(e.match)?r:a},pluck:function(t,e){var n=P.get(t,e.path);return u.isArray(n)&&e.property?n.map(function(t){return P.get(t,e.property,e.default||t)}):n},count:function(t,e){var n=P.get(t,e.path);return u.isArray(n)?e.match?n.filter(function(t){return P.compare(t,e.match,e.operator)}).length:n.length:n},merge:function(t,e){var n,r=[];return e.paths.forEach(function(e){n=P.get(t,e),u.isArray(n)&&(r=r.concat(n))}),r},zip:function(t,e){var n,r,a,i=[];return e.paths.forEach(function(e){if(n=P.get(t,e),u.isArray(n))for(a=n.length,r=0;r<a;r++)i[r]||(i[r]=[]),i[r].push(n[r])}),i},itemAt:function(t,e){var n=P.get(t,e.path);if(!u.isArray(n))return e.default;var r=void 0!==e.index?e.index:0,a=n.length;if(0===a)return e.default;for(;r<0;)r=a+r;return void 0!==n[r]?n[r]:e.default},groupBy:function(t,e){var n=P.get(t,e.path),r=e.default;if(!u.isArray(n))return r;if(!e.group)return console.warn("A 'group' parameter must be provided for the groupBy operation."),r;for(var a,i,o={},c=e.group,s=n.length-1;s>=0;s--)i=n[s],o[a=void 0!==(a=P.get(i,c))?a:r]=o[a]||[],o[a].push(i);return o},objKeys:function(t,e){var n=P.get(t,e.path);return u.isObject?Object.keys(n):n},objValues:function(t,e){var n=P.get(t,e.path);return u.isObject?Object.values(n):n},objEntries:function(t,e){var n=P.get(t,e.path);return u.isObject?Object.entries(n):n},formula:function(t,e){return e.expr?(H[e.expr]||(H[e.expr]=new O(e.expr)),H[e.expr].eval(t)):(console.warn("Invalid FormulaValue expression ('expr')."),t)}},z=function(t,e,n,r){return t.match?t.match===n?r():e:r()},J={count:function(t,e,n){return z(t,e,n,function(){return n?e+1:e})},operation:function(t,e,n){return z(t,e,n,function(){return P.calculate([n,e],t.operator)})},average:function(t,e,n,r,a){return z(t,e,n,function(){var t=P.calculate([n,e],"addition");return r<a-1?t:t/a})},sum:function(t,e,n){return z(t,e,n,function(){return P.calculate([n,e],"addition")})},sumAndOperation:function(t,e,n){var r=P.calculate([n,e],"addition");return P.calculate([r,t.operand],t.operator)},array:function(t,e,n){return(e=u.isArray(e)?e:[]).push(n),e}},X={formulaTemplate:function(t,e,n){if(!e.template)return console.warn("Missing attacher parameter ('template')."),null;var r={$index:n,item:t};return e.context&&(r.context=e.context),P.evalTemplate(e.template,r)},template:function(t,e){return e.template?e.template:(console.warn("Missing attacher parameter ('template')."),null)}};function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"default",function(){return ut});var G={filters:L,mappers:U,selectors:Y,reducers:J,attachers:X},Q={overturn:function(t,e){return W.overturn(t,e.cont)},filters:function(t,e){return W.filter(t,e.cont,nt)},pick:function(t,e){return W.pick(t,e.cont)},mappers:function(t,e){return W.map(t,e.cont,nt)},explode:function(t,e){return W.explode(t,e.cont)},selectors:function(t,e){return W.select(t,e.cont,nt)},reducers:function(t,e){return[W.reduce(t,e.cont,nt)]},attachers:function(t,e){return W.attach(t,e.cont,nt)},uniq:function(t,e){return W.uniq(t,e.cont)},pivot:function(t,e){return W.pivot(t,e.cont,nt)},nest:function(t,e){var n=this,r=e.path,a=e.dest||r;return t.map(function(t){return P.set(t,a,at.call(n,P.get(t,r,[]),e.cont))})},classify:function(t,e){return W.classify(t,e.cont,nt)},split:function(t,e){return W.split(t,e.cont,nt)},remove:function(t,e){return W.remove(t,e.cont)},replace:function(t,e){return W.replace(t,e.cont)}},Z=["overturn","filters","pick","sorters","mappers","explode","selectors","uniq","reducers","pivot"],tt=function(t,e){var n=t[0];if(n&&Z.reduce(function(t,e){return t||!!n[e]},!1)){var r=[];return t.forEach(function(t){Object.keys(t).forEach(function(e){r.push({op:e,cont:t[e]})})}),e&&(console.warn("Legacy recipe found."),console.log("New recipe :"),console.log(JSON.stringify(r,null,3))),r}return t},et=function(t,e,n){return Q[(e=e||{}).op]?t=Q[e.op].call(this,t,e,n):console.warn("Not found: "+e.op+"."),t},nt=function(t,e){if(G[t+"s"][e]){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return G[t+"s"][e].apply(void 0,r)}return rt(t,e)},rt=function(t,e){return console.warn(t+" "+e+" was not found in the available processes."),!1};function at(t,e,n){var r=this;return u.isObject(e)?e=[e]:u.isArray(e)||(e=[]),e=tt(e,this.options.verbose),n&&(e=this.applyParameters(e,n)),e.forEach(function(e){t=et.call(r,t,e)}),t}var ut=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e}var e,n,r;return e=t,(n=[{key:"addOperationsBundle",value:function(t){this.addOperations("filter",t.filters),this.addOperations("picker",t.pickers),this.addOperations("mapper",t.mappers),this.addOperations("reducer",t.reducers),this.addOperations("attach",t.attachers)}},{key:"addOperations",value:function(t,e){for(var n in e)this.addOperation(t,n,e[n])}},{key:"addOperation",value:function(t,e,n){if(!t)return function(t,e){return console.warn(t+" is not a valid process type."),!1}();G[t+"s"][e]=n}},{key:"addFilter",value:function(t,e){this.addOperation("filter",t,e)}},{key:"addMapper",value:function(t,e){this.addOperation("mapper",t,e)}},{key:"addReducer",value:function(t,e){this.addOperation("reducer",t,e)}},{key:"applyParameters",value:function(t,e){var n=JSON.stringify(t);for(var r in e)n=n.replace(new RegExp("#"+r+"#","g"),e[r]);return JSON.parse(n)}},{key:"cook",value:function(t,e,n){return at.call(this,t,e,n)}},{key:"helper",value:function(){return P}}])&&$(e.prototype,n),r&&$(e,r),t}()}]).default});