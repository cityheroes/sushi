!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?exports.Sushi=e(require("moment")):t.Sushi=e(t.moment)}(this,function(__WEBPACK_EXTERNAL_MODULE__2__){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(module,__webpack_exports__,__webpack_require__){"use strict";var underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),underscore__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),moment__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);const ARRAY_REFERENCE_REGEX=/(.*)\[(@|\*|\d+)]/g,processPath=t=>{if(!t)return[];let e,r=t.split(/\.|::/),n=[],a=(t,e,r)=>(n.push(e),"@"!==r&&"*"!==r&&(r=Number(r)),n.push(r),"");for(;r.length>0;)(e=(e=r.shift()).replace(ARRAY_REFERENCE_REGEX,a))&&n.push(e);return n},assignTo=(t,e,r,n)=>{let a,u=processPath(e);for(void 0!==r&&u.push(r);u.length;)a=u.shift(),u.length>0?(t[a]||("number"==typeof u[0]?t[a]=[]:t[a]={}),t=t[a]):t[a]=n},compact=(t,e)=>{let r,n=processPath(e);for(;n.length;)r=n.shift(),n.length>0?(t[r]||("number"==typeof n[0]?t[r]=[]:t[r]={}),t=t[r]):t[r]=underscore__WEBPACK_IMPORTED_MODULE_0___default.a.compact(t[r])},getDateTimeFormat=t=>{if(!t||"string"!=typeof t)return"";switch(t.length){case 10:return"YYYY-MM-DD";case 19:return"YYYY-MM-DD HH:mm:ss";case 8:return"HH:mm:ss";default:return""}},validateOperation=(t,e,r)=>{switch(r){case"years":case"months":case"weeks":case"days":if("HH:mm:ss"===t||"HH:mm:ss"===e)return!1;break;case"hours":case"minutes":case"seconds":if(("HH:mm:ss"===t||"HH:mm:ss"===e)&&t!==e)return!1}return!0},evalWithSafeEnvironment=function(){const __defaultSpec="seconds",__availableSpecs={Y:"years",M:"months",W:"weeks",D:"days",h:"hours",m:"minutes",s:"seconds",years:"years",months:"months",weeks:"weeks",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"},__processStarOperator=(array,path)=>{let result=[];if(array&&underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(array)&&array.length){let value,pushNestedElement=nestedElement=>{value.push(eval("nestedElement"+path))};for(let i=0,len=array.length;i<len;i++){if(underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(array[i]))value=[],array[i].forEach(pushNestedElement);else{value=null;try{value=eval("array[i]"+path)}catch(t){console.warn(t)}}result.push(value)}}return result},dateDiff=(t,e,r)=>{let n=getDateTimeFormat(t),a=getDateTimeFormat(e);return r=__availableSpecs[r]||__defaultSpec,validateOperation(n,a,r)?(t=moment__WEBPACK_IMPORTED_MODULE_1___default()(t,n),e=moment__WEBPACK_IMPORTED_MODULE_1___default()(e,a),t.diff(e,r)):(console.warn("Invalid inputs at dateDiff."),null)},sum=t=>{let e=0;if(t&&underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(t)&&t.length)for(let r=0,n=t.length;r<n;r++)t[r]&&(e+=t[r]);return e},extract=(t,e,r)=>{e=e||",",r=r||0;let n=(t="string"==typeof t?t:t||"").split(e)[r];return isNaN(n)?n:Number(n)},flatten=underscore__WEBPACK_IMPORTED_MODULE_0___default.a.flatten,groupConcat=(t,e=", ")=>t.join(e);function concat(){return Array.prototype.slice.call(arguments).join("")}const count=t=>t.length,avg=t=>{let e=sum(t);return t&&underscore__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(t)&&t.length>0&&(e/=t.length),e},formatDate=(t,e)=>moment__WEBPACK_IMPORTED_MODULE_1___default()(t).format(e);return function(formula,data,metaData){return eval(formula)}}.call();__webpack_exports__.a={processPath:processPath,assignTo:assignTo,compact:compact,patterns:{variable:"{{([^}]+)}}",parsedExpression:"\\[\\*(\\d*)\\*\\]",invalidVariable:"\\[(?!(?:@|\\*|\\d+)\\]|[\\.$])|^[^\\[]*\\]|\\][^\\[]*\\]|[\\{\\}]|\\][]|\\][^\\.\\[]"},dataVarName:"data",metaDataVarName:"metaData",evalWithSafeEnvironment:evalWithSafeEnvironment}},function(t,e,r){(function(t,r){var n;!function(){var a="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},u=a._,i=Array.prototype,o=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,s=i.push,l=i.slice,f=o.toString,p=o.hasOwnProperty,h=Array.isArray,v=Object.keys,d=Object.create,y=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};e.nodeType?a._=m:(!r.nodeType&&r.exports&&(e=r.exports=m),e._=m),m.VERSION="1.9.1";var g,_=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,a){return t.call(e,r,n,a)};case 4:return function(r,n,a,u){return t.call(e,r,n,a,u)}}return function(){return t.apply(e,arguments)}},b=function(t,e,r){return m.iteratee!==g?m.iteratee(t,e):null==t?m.identity:m.isFunction(t)?_(t,e,r):m.isObject(t)&&!m.isArray(t)?m.matcher(t):m.property(t)};m.iteratee=g=function(t,e){return b(t,e,1/0)};var O=function(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),a=0;a<r;a++)n[a]=arguments[a+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var u=Array(e+1);for(a=0;a<e;a++)u[a]=arguments[a];return u[e]=n,t.apply(this,u)}},x=function(t){if(!m.isObject(t))return{};if(d)return d(t);y.prototype=t;var e=new y;return y.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},A=function(t,e){return null!=t&&p.call(t,e)},j=function(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0},w=Math.pow(2,53)-1,k=E("length"),M=function(t){var e=k(t);return"number"==typeof e&&e>=0&&e<=w};m.each=m.forEach=function(t,e,r){var n,a;if(e=_(e,r),M(t))for(n=0,a=t.length;n<a;n++)e(t[n],n,t);else{var u=m.keys(t);for(n=0,a=u.length;n<a;n++)e(t[u[n]],u[n],t)}return t},m.map=m.collect=function(t,e,r){e=b(e,r);for(var n=!M(t)&&m.keys(t),a=(n||t).length,u=Array(a),i=0;i<a;i++){var o=n?n[i]:i;u[i]=e(t[o],o,t)}return u};var P=function(t){var e=function(e,r,n,a){var u=!M(e)&&m.keys(e),i=(u||e).length,o=t>0?0:i-1;for(a||(n=e[u?u[o]:o],o+=t);o>=0&&o<i;o+=t){var c=u?u[o]:o;n=r(n,e[c],c,e)}return n};return function(t,r,n,a){var u=arguments.length>=3;return e(t,_(r,a,4),n,u)}};m.reduce=m.foldl=m.inject=P(1),m.reduceRight=m.foldr=P(-1),m.find=m.detect=function(t,e,r){var n=(M(t)?m.findIndex:m.findKey)(t,e,r);if(void 0!==n&&-1!==n)return t[n]},m.filter=m.select=function(t,e,r){var n=[];return e=b(e,r),m.each(t,function(t,r,a){e(t,r,a)&&n.push(t)}),n},m.reject=function(t,e,r){return m.filter(t,m.negate(b(e)),r)},m.every=m.all=function(t,e,r){e=b(e,r);for(var n=!M(t)&&m.keys(t),a=(n||t).length,u=0;u<a;u++){var i=n?n[u]:u;if(!e(t[i],i,t))return!1}return!0},m.some=m.any=function(t,e,r){e=b(e,r);for(var n=!M(t)&&m.keys(t),a=(n||t).length,u=0;u<a;u++){var i=n?n[u]:u;if(e(t[i],i,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,r,n){return M(t)||(t=m.values(t)),("number"!=typeof r||n)&&(r=0),m.indexOf(t,e,r)>=0},m.invoke=O(function(t,e,r){var n,a;return m.isFunction(e)?a=e:m.isArray(e)&&(n=e.slice(0,-1),e=e[e.length-1]),m.map(t,function(t){var u=a;if(!u){if(n&&n.length&&(t=j(t,n)),null==t)return;u=t[e]}return null==u?u:u.apply(t,r)})}),m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,r){var n,a,u=-1/0,i=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var o=0,c=(t=M(t)?t:m.values(t)).length;o<c;o++)null!=(n=t[o])&&n>u&&(u=n);else e=b(e,r),m.each(t,function(t,r,n){((a=e(t,r,n))>i||a===-1/0&&u===-1/0)&&(u=t,i=a)});return u},m.min=function(t,e,r){var n,a,u=1/0,i=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var o=0,c=(t=M(t)?t:m.values(t)).length;o<c;o++)null!=(n=t[o])&&n<u&&(u=n);else e=b(e,r),m.each(t,function(t,r,n){((a=e(t,r,n))<i||a===1/0&&u===1/0)&&(u=t,i=a)});return u},m.shuffle=function(t){return m.sample(t,1/0)},m.sample=function(t,e,r){if(null==e||r)return M(t)||(t=m.values(t)),t[m.random(t.length-1)];var n=M(t)?m.clone(t):m.values(t),a=k(n);e=Math.max(Math.min(e,a),0);for(var u=a-1,i=0;i<e;i++){var o=m.random(i,u),c=n[i];n[i]=n[o],n[o]=c}return n.slice(0,e)},m.sortBy=function(t,e,r){var n=0;return e=b(e,r),m.pluck(m.map(t,function(t,r,a){return{value:t,index:n++,criteria:e(t,r,a)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var D=function(t,e){return function(r,n,a){var u=e?[[],[]]:{};return n=b(n,a),m.each(r,function(e,a){var i=n(e,a,r);t(u,e,i)}),u}};m.groupBy=D(function(t,e,r){A(t,r)?t[r].push(e):t[r]=[e]}),m.indexBy=D(function(t,e,r){t[r]=e}),m.countBy=D(function(t,e,r){A(t,r)?t[r]++:t[r]=1});var S=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(t){return t?m.isArray(t)?l.call(t):m.isString(t)?t.match(S):M(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:M(t)?t.length:m.keys(t).length},m.partition=D(function(t,e,r){t[r?0:1].push(e)},!0),m.first=m.head=m.take=function(t,e,r){return null==t||t.length<1?null==e?void 0:[]:null==e||r?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,r){return l.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},m.last=function(t,e,r){return null==t||t.length<1?null==e?void 0:[]:null==e||r?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,r){return l.call(t,null==e||r?1:e)},m.compact=function(t){return m.filter(t,Boolean)};var N=function(t,e,r,n){for(var a=(n=n||[]).length,u=0,i=k(t);u<i;u++){var o=t[u];if(M(o)&&(m.isArray(o)||m.isArguments(o)))if(e)for(var c=0,s=o.length;c<s;)n[a++]=o[c++];else N(o,e,r,n),a=n.length;else r||(n[a++]=o)}return n};m.flatten=function(t,e){return N(t,e,!1)},m.without=O(function(t,e){return m.difference(t,e)}),m.uniq=m.unique=function(t,e,r,n){m.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=b(r,n));for(var a=[],u=[],i=0,o=k(t);i<o;i++){var c=t[i],s=r?r(c,i,t):c;e&&!r?(i&&u===s||a.push(c),u=s):r?m.contains(u,s)||(u.push(s),a.push(c)):m.contains(a,c)||a.push(c)}return a},m.union=O(function(t){return m.uniq(N(t,!0,!0))}),m.intersection=function(t){for(var e=[],r=arguments.length,n=0,a=k(t);n<a;n++){var u=t[n];if(!m.contains(e,u)){var i;for(i=1;i<r&&m.contains(arguments[i],u);i++);i===r&&e.push(u)}}return e},m.difference=O(function(t,e){return e=N(e,!0,!0),m.filter(t,function(t){return!m.contains(e,t)})}),m.unzip=function(t){for(var e=t&&m.max(t,k).length||0,r=Array(e),n=0;n<e;n++)r[n]=m.pluck(t,n);return r},m.zip=O(m.unzip),m.object=function(t,e){for(var r={},n=0,a=k(t);n<a;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r};var T=function(t){return function(e,r,n){r=b(r,n);for(var a=k(e),u=t>0?0:a-1;u>=0&&u<a;u+=t)if(r(e[u],u,e))return u;return-1}};m.findIndex=T(1),m.findLastIndex=T(-1),m.sortedIndex=function(t,e,r,n){for(var a=(r=b(r,n,1))(e),u=0,i=k(t);u<i;){var o=Math.floor((u+i)/2);r(t[o])<a?u=o+1:i=o}return u};var R=function(t,e,r){return function(n,a,u){var i=0,o=k(n);if("number"==typeof u)t>0?i=u>=0?u:Math.max(u+o,i):o=u>=0?Math.min(u+1,o):u+o+1;else if(r&&u&&o)return n[u=r(n,a)]===a?u:-1;if(a!=a)return(u=e(l.call(n,i,o),m.isNaN))>=0?u+i:-1;for(u=t>0?i:o-1;u>=0&&u<o;u+=t)if(n[u]===a)return u;return-1}};m.indexOf=R(1,m.findIndex,m.sortedIndex),m.lastIndexOf=R(-1,m.findLastIndex),m.range=function(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),a=Array(n),u=0;u<n;u++,t+=r)a[u]=t;return a},m.chunk=function(t,e){if(null==e||e<1)return[];for(var r=[],n=0,a=t.length;n<a;)r.push(l.call(t,n,n+=e));return r};var I=function(t,e,r,n,a){if(!(n instanceof e))return t.apply(r,a);var u=x(t.prototype),i=t.apply(u,a);return m.isObject(i)?i:u};m.bind=O(function(t,e,r){if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var n=O(function(a){return I(t,n,e,this,r.concat(a))});return n}),m.partial=O(function(t,e){var r=m.partial.placeholder,n=function(){for(var a=0,u=e.length,i=Array(u),o=0;o<u;o++)i[o]=e[o]===r?arguments[a++]:e[o];for(;a<arguments.length;)i.push(arguments[a++]);return I(t,n,this,this,i)};return n}),m.partial.placeholder=m,m.bindAll=O(function(t,e){var r=(e=N(e,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=e[r];t[n]=m.bind(t[n],t)}}),m.memoize=function(t,e){var r=function(n){var a=r.cache,u=""+(e?e.apply(this,arguments):n);return A(a,u)||(a[u]=t.apply(this,arguments)),a[u]};return r.cache={},r},m.delay=O(function(t,e,r){return setTimeout(function(){return t.apply(null,r)},e)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,r){var n,a,u,i,o=0;r||(r={});var c=function(){o=!1===r.leading?0:m.now(),n=null,i=t.apply(a,u),n||(a=u=null)},s=function(){var s=m.now();o||!1!==r.leading||(o=s);var l=e-(s-o);return a=this,u=arguments,l<=0||l>e?(n&&(clearTimeout(n),n=null),o=s,i=t.apply(a,u),n||(a=u=null)):n||!1===r.trailing||(n=setTimeout(c,l)),i};return s.cancel=function(){clearTimeout(n),o=0,n=a=u=null},s},m.debounce=function(t,e,r){var n,a,u=function(e,r){n=null,r&&(a=t.apply(e,r))},i=O(function(i){if(n&&clearTimeout(n),r){var o=!n;n=setTimeout(u,e),o&&(a=t.apply(this,i))}else n=m.delay(u,e,this,i);return a});return i.cancel=function(){clearTimeout(n),n=null},i},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},m.once=m.partial(m.before,2),m.restArguments=O;var K=!{toString:null}.propertyIsEnumerable("toString"),W=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=function(t,e){var r=W.length,n=t.constructor,a=m.isFunction(n)&&n.prototype||o,u="constructor";for(A(t,u)&&!m.contains(e,u)&&e.push(u);r--;)(u=W[r])in t&&t[u]!==a[u]&&!m.contains(e,u)&&e.push(u)};m.keys=function(t){if(!m.isObject(t))return[];if(v)return v(t);var e=[];for(var r in t)A(t,r)&&e.push(r);return K&&C(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var r in t)e.push(r);return K&&C(t,e),e},m.values=function(t){for(var e=m.keys(t),r=e.length,n=Array(r),a=0;a<r;a++)n[a]=t[e[a]];return n},m.mapObject=function(t,e,r){e=b(e,r);for(var n=m.keys(t),a=n.length,u={},i=0;i<a;i++){var o=n[i];u[o]=e(t[o],o,t)}return u},m.pairs=function(t){for(var e=m.keys(t),r=e.length,n=Array(r),a=0;a<r;a++)n[a]=[e[a],t[e[a]]];return n},m.invert=function(t){for(var e={},r=m.keys(t),n=0,a=r.length;n<a;n++)e[t[r[n]]]=r[n];return e},m.functions=m.methods=function(t){var e=[];for(var r in t)m.isFunction(t[r])&&e.push(r);return e.sort()};var F=function(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var a=1;a<n;a++)for(var u=arguments[a],i=t(u),o=i.length,c=0;c<o;c++){var s=i[c];e&&void 0!==r[s]||(r[s]=u[s])}return r}};m.extend=F(m.allKeys),m.extendOwn=m.assign=F(m.keys),m.findKey=function(t,e,r){e=b(e,r);for(var n,a=m.keys(t),u=0,i=a.length;u<i;u++)if(e(t[n=a[u]],n,t))return n};var B,V,L=function(t,e,r){return e in r};m.pick=O(function(t,e){var r={},n=e[0];if(null==t)return r;m.isFunction(n)?(e.length>1&&(n=_(n,e[1])),e=m.allKeys(t)):(n=L,e=N(e,!1,!1),t=Object(t));for(var a=0,u=e.length;a<u;a++){var i=e[a],o=t[i];n(o,i,t)&&(r[i]=o)}return r}),m.omit=O(function(t,e){var r,n=e[0];return m.isFunction(n)?(n=m.negate(n),e.length>1&&(r=e[1])):(e=m.map(N(e,!1,!1),String),n=function(t,r){return!m.contains(e,r)}),m.pick(t,n,r)}),m.defaults=F(m.allKeys,!0),m.create=function(t,e){var r=x(t);return e&&m.extendOwn(r,e),r},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var r=m.keys(e),n=r.length;if(null==t)return!n;for(var a=Object(t),u=0;u<n;u++){var i=r[u];if(e[i]!==a[i]||!(i in a))return!1}return!0},B=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var a=typeof t;return("function"===a||"object"===a||"object"==typeof e)&&V(t,e,r,n)},V=function(t,e,r,n){t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var a=f.call(t);if(a!==f.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return c.valueOf.call(t)===c.valueOf.call(e)}var u="[object Array]"===a;if(!u){if("object"!=typeof t||"object"!=typeof e)return!1;var i=t.constructor,o=e.constructor;if(i!==o&&!(m.isFunction(i)&&i instanceof i&&m.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}n=n||[];for(var s=(r=r||[]).length;s--;)if(r[s]===t)return n[s]===e;if(r.push(t),n.push(e),u){if((s=t.length)!==e.length)return!1;for(;s--;)if(!B(t[s],e[s],r,n))return!1}else{var l,p=m.keys(t);if(s=p.length,m.keys(e).length!==s)return!1;for(;s--;)if(l=p[s],!A(e,l)||!B(t[l],e[l],r,n))return!1}return r.pop(),n.pop(),!0},m.isEqual=function(t,e){return B(t,e)},m.isEmpty=function(t){return null==t||(M(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=h||function(t){return"[object Array]"===f.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){m["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return A(t,"callee")});var q=a.document&&a.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof q&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return!m.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&isNaN(t)},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){if(!m.isArray(e))return A(t,e);for(var r=e.length,n=0;n<r;n++){var a=e[n];if(null==t||!p.call(t,a))return!1;t=t[a]}return!!r},m.noConflict=function(){return a._=u,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return m.isArray(t)?function(e){return j(e,t)}:E(t)},m.propertyOf=function(t){return null==t?function(){}:function(e){return m.isArray(e)?j(t,e):t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,r){var n=Array(Math.max(0,t));e=_(e,r,1);for(var a=0;a<t;a++)n[a]=e(a);return n},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=m.invert(U),Y=function(t){var e=function(e){return t[e]},r="(?:"+m.keys(t).join("|")+")",n=RegExp(r),a=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(a,e):t}};m.escape=Y(U),m.unescape=Y(H),m.result=function(t,e,r){m.isArray(e)||(e=[e]);var n=e.length;if(!n)return m.isFunction(r)?r.call(t):r;for(var a=0;a<n;a++){var u=null==t?void 0:t[e[a]];void 0===u&&(u=r,a=n),t=m.isFunction(u)?u.call(t):u}return t};var z=0;m.uniqueId=function(t){var e=++z+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,G=function(t){return"\\"+X[t]};m.template=function(t,e,r){!e&&r&&(e=r),e=m.defaults({},e,m.templateSettings);var n,a=RegExp([(e.escape||J).source,(e.interpolate||J).source,(e.evaluate||J).source].join("|")+"|$","g"),u=0,i="__p+='";t.replace(a,function(e,r,n,a,o){return i+=t.slice(u,o).replace($,G),u=o+e.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?i+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{n=new Function(e.variable||"obj","_",i)}catch(t){throw t.source=i,t}var o=function(t){return n.call(this,t,m)},c=e.variable||"obj";return o.source="function("+c+"){\n"+i+"}",o},m.chain=function(t){var e=m(t);return e._chain=!0,e};var Q=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){return m.each(m.functions(t),function(e){var r=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),Q(this,r.apply(m,t))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];m.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],Q(this,r)}}),m.each(["concat","join","slice"],function(t){var e=i[t];m.prototype[t]=function(){return Q(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},void 0===(n=function(){return m}.apply(e,[]))||(r.exports=n)}()}).call(this,r(3),r(4)(t))},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";r.r(e);var n=function(t){return Array.isArray(t)},a=function(t){return"[object Object]"===Object.prototype.toString.call(t)},u={isArray:n,isObject:a,isObjectish:function(t){return t===Object(t)},omit:function(t,e){if(!a(t))return t;e=n(e)?e:[e];var r={};for(var u in t)t.hasOwnProperty(u)&&-1===e.indexOf(u)&&(r[u]=t[u]);return r}},i=function(t,e){if(!e.pivot)return console.warn("Overturn operation needs a 'pivot' parameter."),t;var r=e.pivot,n=e.dest||"parent",a=e.child||null,i=!!e.includeEmpty;return t.reduce(function(t,e){return function(t,e,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=u.omit(e,r),c=e[r];return u.isArray(c)?(i&&0===c.length&&c.push({}),t.concat(c.map(function(t){if(u.isObject(t))t[n]=o;else if(a){var e={};e[n]=o,e[a]=t,t=e}return t}))):u.isObject(c)||i&&(c={})?(c[n]=o,t.push(c),t):t}(t,e,r,n,a,i)},[])},o=r(1),c=r.n(o),s=r(0);const l=new RegExp(s.a.patterns.invalidVariable);class f{constructor(t){this._path=s.a.processPath(t),this._hasStar=this._path.indexOf("*")>-1,this._hasAt=this._path.indexOf("@")>-1,this._hasContext=this._hasAt,t.indexOf("::")>-1?this._environment=s.a.metaDataVarName:this._environment=s.a.dataVarName,""===t?this._parsedVariable="null":this._hasContext||(this._parsedVariable=f._parse(this._path,this._environment))}parseVariable(t){return this._parsedVariable||this._parseWithContext(t)}_parseWithContext(t){let e=0,r=t.length,n=this._path.length,a=this._path.slice();for(;e<r&&e<n;e++)if("@"===a[e]&&c.a.isNumber(t[e]))a[e]=Number(t[e]);else if(a[e]!==t[e]||"*"===a[e])break;for(;e<n;e++)if("@"===a[e])throw new Error("Context could not fully resolve");return f._parse(a,this._environment)}hasStar(){return this._hasStar}hasAt(){return this._hasAt}static isValid(t){return!l.test(t)}static _parse(t,e){let r,n=!1,a=e;for(let e=0,u=t.length;e<u;e++)"*"===(r=t[e])?(n?a+='")':n=!0,a="__processStarOperator("+a+',"'):a+="['"+r+"']";return n&&(a+='")'),a}}const p=new RegExp(s.a.patterns.variable,"g");class h{constructor(t,e){this._variables=[];for(var r=0,n=t.length;r<n;r++){var a=t[r];e=e.replace(new RegExp(a.pattern,"g"),a.replacement)}const u={};this._parsedExpression=e.replace(p,(t,e)=>f.isValid(e)?(u[e]||(u[e]=this._variables.length,this._variables.push(new f(e))),"[*"+u[e]+"*]"):"{{"+e+"}}")}eval(){throw new Error("Eval is not implemented")}getDependencies(){throw new Error("GetDependencies is not implemented")}}var v=[{pattern:"^=",replacement:""},{pattern:"'",replacement:"\\'"}];class d extends h{constructor(t){super(v,t)}eval(t,e,r){let n=null;try{let a=s.a.processPath(r),u=this._variables.map(t=>t.parseVariable(a)),i=this._parsedExpression.replace(/\[\*(\d*)\*\]/g,(t,e)=>u[parseInt(e)]);n=s.a.evalWithSafeEnvironment(i,t,e)}catch(t){console.warn(t)}return n}getDependencies(){return this._variables.map(t=>t.split("::").shift())}static isFormula(t){return"string"==typeof t&&0===t.indexOf("=")}}const y=[{pattern:"'",replacement:"\\'"}],m=new RegExp(s.a.patterns.variable),g=new RegExp(s.a.patterns.parsedExpression,"g");class _ extends h{constructor(t=""){super(y,t)}eval(t,e,r){let n="";try{let a=s.a.processPath(r),u=this._variables.map(r=>r.hasStar()?"":s.a.evalWithSafeEnvironment(r.parseVariable(a),t,e));n=this._parsedExpression.replace(g,(t,e)=>u[parseInt(e)])}catch(t){console.warn(t)}return n}getDependencies(){return this._variables.map(t=>t.split("::").shift())}static isConcatenatedText(t){return"string"==typeof t&&m.test(t)}}class b extends h{constructor(t){super([],""),this.value=t}eval(){return this.value}}class O{constructor(t=""){d.isFormula(t)?this.compiledExpression=new d(t):_.isConcatenatedText(t)?this.compiledExpression=new _(t):this.compiledExpression=new b(t)}eval(t={},e={},r=""){return this.compiledExpression.eval(t,e,r)}static isFormulaValue(t){return d.isFormula(t)||_.isConcatenatedText(t)}}var x=function(t){return u.isArray(t)?t:[t]},E=new RegExp("(.+)\\[([0-9]*)\\]"),A=function(t,e,r){if(""===e)return t;for(var n,a,u=e.split(".");u.length&&t;)if(n=u.shift(),null!==(a=E.exec(n))&&3===a.length){var i={arrName:a[1],arrIndex:a[2]};t=void 0!==t[i.arrName]?t[i.arrName][i.arrIndex]:void 0}else t=isNaN(n)?t[n]:t[void 0===t[n]?Number(n):n];return void 0===t?r:t},j=function(t,e){return!t||(t=u.isArray(t)?t:[t]).reduce(function(t,r){var n=!1,a=r.indexOf("*");if(-1!==a){var u=r.lastIndexOf("*");-1!==u&&a!==u?n=e.includes(r.substring(a+1,u)):0===a?n=e.endsWith(r.substr(1)):a===r.length-1&&(n=e.startsWith(r.slice(0,-1)))}else n=e===r;return t||n},!1)},w=function(t,e){return Object.keys(t).filter(function(t){return j(e,t)})},k=function(t,e){e=e||"addition";var r={addition:{method:function(t,e){return t+e},neutral:0},subtraction:{method:function(t,e){return t-e},neutral:0},division:{method:function(t,e){return t/e},neutral:1},multiplication:{method:function(t,e){return t*e},neutral:1}};return t.reduce(function(t,n){return n=null==n?0:n,r[e].method(parseFloat(n)||r[e].neutral,t)},r[e].neutral)},M=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r[t]||(r[t]=new O(t));var n=r[t];return n.eval(e)},P={get:A,set:function(t,e,r){for(var n,a=t,u=-1,i=(e=e.split(".")).length,o=i-1;null!==a&&++u<i;)a[n=e[u]]=u===o?r:void 0!==a[n]?a[n]:{},a=a[n];return t},remove:function(t,e){for(var r,n=t,a=-1,u=(e=e.split(".")).length,i=u-1;null!==n&&++a<u;)if(r=e[a],a===i)Array.isArray(n)?n.splice(r,1):delete n[r];else{if(void 0===n[r])break;n=n[r]}return t},extractMap:function(t,e,r){return x(e).map(function(e){return A(t,e,r)})},iterateMap:function(t,e,r,n){x(e).forEach(function(e){n(e,A(t,e,r))})},extractKeys:w,extractKeyValues:function(t,e){return w(t,e).map(function(e){return t[e]})},getKeys:function(t,e){return Object.keys(t).filter(function(t){return j(e,t)})},iterateKeys:function(t,e,r){Object.keys(t).forEach(function(t){j(e,t)&&r(t)})},evalValues:function(t,e){return t.reduce(function(t,r){return t||function(t,e){return!u.isArray(e)&&!u.isObject(e)&&("!"===t.charAt(0)?!e.includes(t.substr(1)):e.includes(t))}(r,e)},!1)},compare:function(t,e,r){var n={eq:function(t,e){return t===e},ne:function(t,e){return t!==e},lt:function(t,e){return t<e},gt:function(t,e){return t>e},le:function(t,e){return t<=e},ge:function(t,e){return t>=e}};return n[r=r||"eq"]?n[r](t,e):null},calculate:k,average:function(t){return 0===(t=t.filter(function(t){return null!=t})).length?0:k(t,"addition")/t.length},compareString:function(t,e,r){return{eq:function(t,e){return t===e},ne:function(t,e){return t!==e},includes:function(t,e){return t.includes(e)},startsWith:function(t,e){return t.startsWith(e)},endsWith:function(t,e){return t.endsWith(e)}}[r=r||"eq"](t,e)},evalFV:M,evalTemplate:function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{};if(e!==Object(e))return M(e,r,n);var a,u,i=Array.isArray(e)?e.slice():Object.assign({},e);for(var o in i)u=M(o,r,n),(a=i[o])===Object(a)?i[u]=t(a,r):i[u]=M(a,r,n),u!==o&&delete i[o];return i},deepNavigate:function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Array.isArray(r))for(var i=0;i<r.length;i++){var o=a.slice();o.push(i),e=r[i],u.isObjectish(e)?t(e,n,o):n(r,e,o)}else for(var c in r){var s=a.slice();s.push(c),e=r[c],u.isObjectish(e)?t(e,n,s):n(r,e,s)}},deepDelete:function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(Array.isArray(r)){for(var i=[],o=0;o<r.length;o++){var c=a.slice();c.push(o),e=r[o],u.isObjectish(e)?t(e,n,c):n(r,e,c)&&i.push(o)}if(i.length)for(var s=i.length-1;s>=0;s--)r.splice(i[s],1)}else for(var l in r){var f=a.slice();f.push(l),e=r[l],u.isObjectish(e)?t(e,n,f):n(r,e,f)&&delete r[l]}}};function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var N=function(t,e){for(var r,n,a,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t.length,o=0;o<i;o++){for(a in r={},n=t[o])r[n[a]]=P.get(e,a);u.push(r)}return u},T=function(t){var e,r,n=function(){return!1},a=n,u=n;if(void 0!==t.keyMatch){var i=t.keyMatch;e=!0,a=function(t){return t.match?t.match(i):t===i}}if(void 0!==t.valueMatch){var o=t.valueMatch;r=!0,u=function(t){return t?t.match?t.match(o):t===o:Object.is(t,NaN)?null==o:t==o}}return{evalKeyMatch:a,evalValueMatch:u,keyMatchExists:e,valueMatchExists:r}};var R=function(t,e,r){return P.evalFV(t,e,r)},I=function(t,e,r){if(Array.isArray(t)){for(var n=(o={},(i=e)in(u={})?Object.defineProperty(u,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):u[i]=o,u),a=0;a<t.length;a++)n[e][a]=t[a];return Object.assign(n,r)}return r;var u,i,o},K=function(t,e,r){var n=T(r);if(n.keyMatchExists||n.valueMatchExists){var a,u,i,o,c=r.replacement,s={$index:e,item:t},l={};P.deepNavigate(t,function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];a=r.slice(-1)[0],u=n.evalKeyMatch(a),i=n.evalValueMatch(e),o=null,u&&(o=I(u,"keyMatch",s)),i&&(o=I(i,"valueMatch",s)),o&&(o.key=a,o.value=e,t[a]=R(c,o,l))})}return t};function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(r,!0).forEach(function(e){F(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function F(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var B=function(t){for(var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],a=V(t),u=L(t,r),i=0;i<u;i++)e=C({},q(t,a),{},U(t,a,i)),n.push(e);return n},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={array:[],regular:[]};for(var r in t)Array.isArray(t[r])?e.array.push(r):e.regular.push(r);return e},L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=0;if(e.reference&&t[e.reference]&&Array.isArray(t[e.reference]))r=t[e.reference].length;else for(var n in t)Array.isArray(t[n])&&t[n].length&&(r=t[n].length);return r},q=function(t,e){return e.regular.reduce(function(e,r){return e[r]=t[r],e},{})},U=function(t,e,r){return e.array.reduce(function(e,n){return e[n]=t[n][r],e},{})},H={overturn:i,filter:function(t,e,r){return e?(Array.isArray(e)||(e=[e]),t.filter(function(t){return e.reduce(function(e,n){return e&&r("filter",n.name,t,n)},!0)})):t},pick:function(t,e){return t.map(function(t){var r={};return e.keys&&P.iterateKeys(t,e.keys,function(n){e.values&&P.evalValues(e.values,t[n])?r[n]=t[n]:e.values||(r[n]=t[n])}),e.paths&&P.iterateMap(t,e.paths,null,function(t,e){r=P.set(r,t,e)}),r})},sort:function(t,e,r){return e?(Array.isArray(e)||(e=[e]),t.sort(function(t){return e.reduce(function(e,n){return e&&r("sorter",n.name,t,n)},!0)})):t},map:function(t,e,r){return e?(Array.isArray(e)||(e=[e]),t.map(function(t){return e.forEach(function(e){P.iterateKeys(t,e.keys,function(n){t[n]=r("mapper",e.name,t[n],e)})},{}),t})):t},explode:function(t,e){return t.reduce(function(t,r){return t.concat(Object.keys(r).reduce(function(t,n){var a={};if(e.id){if(e.id.includes(n))return t;a.id=P.get(r,e.id)}return a[e.key?e.key:"key"]=n,a[e.value?e.value:"value"]=r[n],t.push(a),t},[]))},[])},select:function(t,e,r){return e?(Array.isArray(e)||(e=[e]),t.map(function(t){return e.reduce(function(e,n){return e[n.dest]=r("selector",n.name,t,n),e},{})})):t},uniq:function(t,e){var r=[],n={};if(!e||!e.path)return console.warn("A 'path' parameter must be provided for the uniq operation."),t;for(var a=t.length-1;a>=0;a--)1!==n[P.get(t[a],e.path)]&&(n[P.get(t[a],e.path)]=1,r.push(t[a]));return r},reduce:function(t,e,r){return e?(Array.isArray(e)||(e=[e]),e.reduce(function(e,n){var a=n.start||0;if(n.group&&n.path){var u,i=e,o=t.reduce(function(t,e){return t[u=P.get(e,n.group)]=t[u]||0,t[u]++,t},{});n.dest&&(e[n.dest]={},i=e[n.dest]);var c={};t.forEach(function(t){u=P.get(t,n.group),c[u]=c[u]||0,i[u]=r("reducer",n.name,n,i[u]||a,P.get(t,n.path),c[u],o[u]),c[u]++})}else n.path&&n.dest?e[n.dest]=t.reduce(function(e,a,u){return r("reducer",n.name,n,e,P.get(a,n.path),u,t.length)},a):n.keys&&t.forEach(function(u,i){P.iterateKeys(u,n.keys,function(o){e[o]=r("reducer",n.name,n,e[o]||a,u[o],i,t.length)})});return e},{})):t},pivot:function(t,e){for(var r,n,a,u,i,o,c={sum:function(t,r){return t+P.get(r,e.aggregationPath,0)},count:function(t,e){return t+1}},s=[],l={},f=[],p=e.rowSourcePath,h=e.rowTargetPath||p,v=e.columnPath,d=!!e.includeRowTotal,y=!!e.includeColumnTotal,m=e.totalRowName||"Total",g=e.totalColumnName||"Total",_=c[e.aggregationOp||"count"],b=0,O=t.length;b<O;b++)if(n=t[b],u=P.get(n,p,void 0)){if(l[u])a=l[u];else{a={};for(var x=f.length-1;x>=0;x--)a[f[x]]=0;l[u]=a,s.push(a),P.set(a,h,u)}if(r=P.get(n,v,void 0)){if(-1===f.indexOf(r)){f.push(r);for(var E=s.length-1;E>=0;E--)s[E][r]=0}i=a[r]||0,a[r]=_(i,n)}}(d||y)&&function(){var t,e={};if(y){for(b=f.length-1;b>=0;b--)e[f[b]]=0;P.set(e,h,g)}for(b=0,o=s.length;b<o;b++){if(t=s[b],y)for(x=f.length-1;x>=0;x--)r=f[x],e[r]+=t[r];d&&(t[m]=f.reduce(function(e,r){return e+t[r]},0))}y&&(d&&(e[m]=f.reduce(function(t,r){return t+e[r]},0)),s.push(e))}();return s},classify:function(t,e){if(!e||!e.path)return console.warn("A 'path' parameter must be provided for the classify operation."),t;for(var r,n,a=e.path,u=e.dest||"dest",i=e.id||a,o=e.default,c={},s=t.length,l=0;l<s;l++)n=t[l],r=P.get(n,a),c[r=void 0!==r?r:o]=c[r]||{},c[r][u]=c[r][u]||[],c[r][u].push(n);return Object.keys(c).map(function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(r,!0).forEach(function(e){S(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}(S({},i,t),c[t])})},split:function(t,e){if(!e||!e.parts)return console.warn("A 'parts' parameter must be provided for the split operation."),t;for(var r=[],n=e.parts,a=t.length,u=0;u<a;u++)r=N(n,t[u],r);return r},attach:function(t,e,r){return e?(Array.isArray(e)||(e=[e]),t.map(function(t,n){return e.forEach(function(e){t[e.dest]=r("attacher",e.name,t,e,n)}),t})):t},remove:function(t,e){var r=T(e),n=r.evalKeyMatch,a=r.evalValueMatch,u=r.keyMatchExists,i=r.valueMatchExists,o=e.paths;return t.map(function(t){var e;(o&&o.forEach(function(e){P.remove(t,e)}),u||i)&&P.deepDelete(t,function(t,r){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e=u.slice(-1)[0],n(e)||a(r)});return t})},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map(function(t,r){return e.forEach(function(e){t=K(t,r,e)}),t})},explodeArrayProps:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.length)return t;for(var r=[],n=0;n<t.length;n++)r=r.concat(B(t[n],e));return r}};function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var z={},J=function(t,e,r){return u.isArray(e)?e.reduce(function(e,n){return e||r(t,n)},!1):r(t,e)},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.path)return P.get(t,e.path);if(e.expr){var n=e.expr;z[n]||(z[n]=new O(n));var a=z[n];return a.eval(t)}return r},$={match:function(t,e){return J(X(t,e),e.match,function(t,e){return t===e})},mismatch:function(t,e){return J(X(t,e),e.match,function(t,e){return t!==e})},matchType:function(t,e){return J(X(t,e),e.match,function(t,e){return Y(t)===e})},mismatchType:function(t,e){return J(X(t,e),e.match,function(t,e){return Y(t)!==e})},includes:function(t,e){return J(X(t,e),e.match,function(t,e){return t.includes(e)})},excludes:function(t,e){return J(X(t,e),e.match,function(t,e){return!t.includes(e)})},compare:function(t,e){return P.compare(X(t,e),e.match,e.operator)},start:function(t,e){return J(X(t,e,""),e.match,function(t,e){return 0===t.indexOf(e)})},end:function(t,e){return J(X(t,e,""),e.match,function(t,e){return-1!==t.indexOf(e,t.length-e.length)})}},G={string:String,number:Number,boolean:Boolean},Q={pass:function(t,e){return t},replace:function(t,e){if("string"!=typeof t)return t;var r=e.match||"";return e.regex&&(r=new RegExp(e.regex,"i")),t.replace(r,e.replacement||"")},substring:function(t,e){return"string"!=typeof t?t:t.substring(e.start||0,e.end||void 0)},translate:function(t,e){var r=e.conversions||e.convertions||{};return void 0!==r[t]?r[t]:t},classify:function(t,e){var r=e.conversions||e.convertions||{},n=Math.round(t);return void 0!==r[n]?r[n]:t},stratify:function(t,e){var r=e.conversions||e.convertions||{},n=e.default||t;return Object.keys(r).forEach(function(e){var a=e.split("-");2===a.length&&t>=Number(a[0])&&t<=Number(a[1])&&(n=r[e])}),n},cast:function(t,e){var r=e.type||"number";return G[r](t)}},Z={},tt={extract:function(t,e){return P.get(t,e.path,e.default)},join:function(t,e){return e.paths.map(function(r){return P.get(t,r,e.default)}).join(e.separator||" ")},split:function(t,e){return P.get(t,e.path,"").split(e.separator||" ")},format:function(t,e){return e.paths.reduce(function(r,n,a){return r.replace("{"+a+"}",P.get(t,n,e.default))},e.format||"")},compare:function(t,e){return P.compare(P.get(t,e.path),e.match,e.operator)?e.truth:e.false},operation:function(t,e){return e.path?P.calculate([P.get(t,e.path),e.operand],e.operator):e.paths?P.calculate(P.extractMap(t,e.paths),e.operator):e.keys?P.calculate(P.extractKeyValues(t,e.keys),e.operator):0},average:function(t,e){return e.paths?P.average(P.extractMap(t,e.paths)):e.keys?P.average(P.extractKeyValues(t,e.keys)):0},existsInArray:function(t,e){var r=P.get(t,e.path);if(!u.isArray(r))return r;var n=e.matchValue||1,a=e.mismatchValue||0;return-1!==r.indexOf(e.match)?n:a},pluck:function(t,e){var r=P.get(t,e.path);return u.isArray(r)&&e.property?r.map(function(t){return P.get(t,e.property,e.default||t)}):r},count:function(t,e){var r=P.get(t,e.path);return u.isArray(r)?e.match?r.filter(function(t){return P.compare(t,e.match,e.operator)}).length:r.length:r},merge:function(t,e){var r,n=[];return e.paths.forEach(function(e){r=P.get(t,e),u.isArray(r)&&(n=n.concat(r))}),n},zip:function(t,e){var r,n,a,i=[];return e.paths.forEach(function(e){if(r=P.get(t,e),u.isArray(r))for(a=r.length,n=0;n<a;n++)i[n]||(i[n]=[]),i[n].push(r[n])}),i},itemAt:function(t,e){var r=P.get(t,e.path);if(!u.isArray(r))return e.default;var n=void 0!==e.index?e.index:0,a=r.length;if(0===a)return e.default;for(;n<0;)n=a+n;return void 0!==r[n]?r[n]:e.default},groupBy:function(t,e){var r=P.get(t,e.path),n=e.default;if(!u.isArray(r))return n;if(!e.group)return console.warn("A 'group' parameter must be provided for the groupBy operation."),n;for(var a,i,o={},c=e.group,s=r.length-1;s>=0;s--)i=r[s],o[a=void 0!==(a=P.get(i,c))?a:n]=o[a]||[],o[a].push(i);return o},objKeys:function(t,e){var r=P.get(t,e.path);return u.isObject?Object.keys(r):r},objValues:function(t,e){var r=P.get(t,e.path);return u.isObject?Object.values(r):r},objEntries:function(t,e){var r=P.get(t,e.path);return u.isObject?Object.entries(r):r},formula:function(t,e){return e.expr?(Z[e.expr]||(Z[e.expr]=new O(e.expr)),Z[e.expr].eval(t)):(console.warn("Invalid FormulaValue expression ('expr')."),t)}},et=function(t,e,r,n){return t.match?t.match===r?n():e:n()},rt={count:function(t,e,r){return et(t,e,r,function(){return r?e+1:e})},operation:function(t,e,r){return et(t,e,r,function(){return P.calculate([r,e],t.operator)})},average:function(t,e,r,n,a){return et(t,e,r,function(){var t=P.calculate([r,e],"addition");return n<a-1?t:t/a})},sum:function(t,e,r){return et(t,e,r,function(){return P.calculate([r,e],"addition")})},sumAndOperation:function(t,e,r){var n=P.calculate([r,e],"addition");return P.calculate([n,t.operand],t.operator)},array:function(t,e,r){return(e=u.isArray(e)?e:[]).push(r),e}},nt={formulaTemplate:function(t,e,r){if(!e.template)return console.warn("Missing attacher parameter ('template')."),null;var n={$index:r,item:t};return e.context&&(n.context=e.context),P.evalTemplate(e.template,n)},template:function(t,e){return e.template?e.template:(console.warn("Missing attacher parameter ('template')."),null)}};function at(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}r.d(e,"default",function(){return ht});var ut={filters:$,mappers:Q,selectors:tt,reducers:rt,attachers:nt},it={overturn:function(t,e){return H.overturn(t,e.cont)},filters:function(t,e){return H.filter(t,e.cont,lt)},pick:function(t,e){return H.pick(t,e.cont)},mappers:function(t,e){return H.map(t,e.cont,lt)},explode:function(t,e){return H.explode(t,e.cont)},selectors:function(t,e){return H.select(t,e.cont,lt)},reducers:function(t,e){return[H.reduce(t,e.cont,lt)]},attachers:function(t,e){return H.attach(t,e.cont,lt)},uniq:function(t,e){return H.uniq(t,e.cont)},pivot:function(t,e){return H.pivot(t,e.cont,lt)},nest:function(t,e){var r=this,n=e.path,a=e.dest||n;return t.map(function(t){return P.set(t,a,pt.call(r,P.get(t,n,[]),e.cont))})},classify:function(t,e){return H.classify(t,e.cont,lt)},split:function(t,e){return H.split(t,e.cont,lt)},remove:function(t,e){return H.remove(t,e.cont)},replace:function(t,e){return H.replace(t,e.cont)},explodeArrayProps:function(t,e){return H.explodeArrayProps(t,e.cont)}},ot=["overturn","filters","pick","sorters","mappers","explode","selectors","uniq","reducers","pivot"],ct=function(t,e){var r=t[0];if(r&&ot.reduce(function(t,e){return t||!!r[e]},!1)){var n=[];return t.forEach(function(t){Object.keys(t).forEach(function(e){n.push({op:e,cont:t[e]})})}),e&&(console.warn("Legacy recipe found."),console.log("New recipe :"),console.log(JSON.stringify(n,null,3))),n}return t},st=function(t,e,r){return it[(e=e||{}).op]?t=it[e.op].call(this,t,e,r):console.warn("Not found: "+e.op+"."),t},lt=function(t,e){if(ut[t+"s"][e]){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return ut[t+"s"][e].apply(void 0,n)}return ft(t,e)},ft=function(t,e){return console.warn(t+" "+e+" was not found in the available processes."),!1};function pt(t,e,r){var n=this;return u.isObject(e)?e=[e]:u.isArray(e)||(e=[]),e=ct(e,this.options.verbose),r&&(e=this.applyParameters(e,r)),e.forEach(function(e){t=st.call(n,t,e)}),t}var ht=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e}var e,r,n;return e=t,(r=[{key:"addOperationsBundle",value:function(t){this.addOperations("filter",t.filters),this.addOperations("picker",t.pickers),this.addOperations("mapper",t.mappers),this.addOperations("reducer",t.reducers),this.addOperations("attach",t.attachers)}},{key:"addOperations",value:function(t,e){for(var r in e)this.addOperation(t,r,e[r])}},{key:"addOperation",value:function(t,e,r){if(!t)return function(t,e){return console.warn(t+" is not a valid process type."),!1}();ut[t+"s"][e]=r}},{key:"addFilter",value:function(t,e){this.addOperation("filter",t,e)}},{key:"addMapper",value:function(t,e){this.addOperation("mapper",t,e)}},{key:"addReducer",value:function(t,e){this.addOperation("reducer",t,e)}},{key:"applyParameters",value:function(t,e){var r=JSON.stringify(t);for(var n in e)r=r.replace(new RegExp("#"+n+"#","g"),e[n]);return JSON.parse(r)}},{key:"cook",value:function(t,e,r){return pt.call(this,t,e,r)}},{key:"helper",value:function(){return P}}])&&at(e.prototype,r),n&&at(e,n),t}()}]).default});